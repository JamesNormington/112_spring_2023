<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 12 Data Import | COMP/STAT 112: Introduction to Data Science</title>
  <meta name="description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 12 Data Import | COMP/STAT 112: Introduction to Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/logo.png" />
  <meta property="og:description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="github-repo" content="JamesNormington/112_spring_2023/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 12 Data Import | COMP/STAT 112: Introduction to Data Science" />
  
  <meta name="twitter:description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="twitter:image" content="/images/logo.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="midterm-review.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="custom_styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href = "./">COMP/STAT 112: Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html"><i class="fa fa-check"></i>Course Schedule</a></li>
<li class="part"><span><b>I Foundation</b></span></li>
<li class="chapter" data-level="1" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html"><i class="fa fa-check"></i><b>1</b> Intro to R, RStudio, and R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#learning-goals"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#getting-started-in-rstudio"><i class="fa fa-check"></i>Getting Started in RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#download-r-rstudio"><i class="fa fa-check"></i>Download R &amp; RStudio</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#a-quick-tour-of-rstudio"><i class="fa fa-check"></i>A quick tour of RStudio</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#data"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#tidy-data"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#data-basics-in-rstudio"><i class="fa fa-check"></i>Data Basics in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#r-markdown-and-reproducible-research"><i class="fa fa-check"></i>R Markdown and Reproducible Research</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#assignment-1-due-wednesday-january-25-1159pm"><i class="fa fa-check"></i>Assignment 1 (due Wednesday, January 25 @ 11:59pm)</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#appendix-r-functions"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#r-as-a-calculator"><i class="fa fa-check"></i>R as a calculator</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#r-basics"><i class="fa fa-check"></i>R Basics</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Visualization</b></span></li>
<li class="chapter" data-level="2" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html"><i class="fa fa-check"></i><b>2</b> Intro to Data Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#learning-goals-1"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#benefits-of-visualizations"><i class="fa fa-check"></i>Benefits of Visualizations</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#glyphs"><i class="fa fa-check"></i>Glyphs</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#data-glyph"><i class="fa fa-check"></i>Data Glyph</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#components-of-graphics"><i class="fa fa-check"></i>Components of Graphics</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#eye-training-for-the-layered-grammar-of-graphics"><i class="fa fa-check"></i>Eye Training for the Layered Grammar of Graphics</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#glyph-ready-data"><i class="fa fa-check"></i>Glyph-Ready Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#data-visualization-workflow-ggplot"><i class="fa fa-check"></i>Data Visualization Workflow + <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#layers-building-up-complex-plots"><i class="fa fa-check"></i>Layers – Building up Complex Plots</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#an-example"><i class="fa fa-check"></i>An Example</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#categorical-univariate-visualization"><i class="fa fa-check"></i>Categorical univariate visualization</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#quantitative-univariate-visualization"><i class="fa fa-check"></i>Quantitative univariate visualization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#assignment-2-due-wednesday-feb-1-at-1159pm"><i class="fa fa-check"></i>Assignment 2 (due Wednesday, Feb 1 at 11:59pm)</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#appendix-r-functions-1"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#basic-r-functions"><i class="fa fa-check"></i>Basic R functions</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#ggplot2-foundation-functions"><i class="fa fa-check"></i>ggplot2 foundation functions</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#more-ggplot2-functions"><i class="fa fa-check"></i>more ggplot2 functions</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#ggplot2-aesthetic-mapping-options"><i class="fa fa-check"></i>ggplot2 aesthetic mapping options</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="effective-visualizations.html"><a href="effective-visualizations.html"><i class="fa fa-check"></i><b>3</b> Effective Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#learning-goals-2"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#effective-visualizations-1"><i class="fa fa-check"></i>Effective Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#benefits-of-visualizations-1"><i class="fa fa-check"></i>Benefits of Visualizations</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#analysis-of-graphics"><i class="fa fa-check"></i>Analysis of Graphics</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#properties-of-effective-visualizations"><i class="fa fa-check"></i>Properties of Effective Visualizations</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#basic-rules-for-constructing-graphics"><i class="fa fa-check"></i>Basic Rules for Constructing Graphics</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#still-to-come"><i class="fa fa-check"></i>Still to Come</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#practice"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html"><i class="fa fa-check"></i><b>4</b> Bivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#learning-goals-3"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#alterative-text-for-visualizations"><i class="fa fa-check"></i>Alterative Text for Visualizations</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#bivariate-visualizations-1"><i class="fa fa-check"></i>Bivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#getting-to-know-the-dataset"><i class="fa fa-check"></i>Getting to know the dataset</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#background-on-visualizing-relationships"><i class="fa fa-check"></i>Background on visualizing relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-quantitiative-vs-quantitative-relationships"><i class="fa fa-check"></i>Visualizing quantitiative vs quantitative relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-quantitative-vs.-categorical-relationships"><i class="fa fa-check"></i>Visualizing quantitative vs. categorical relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-categorical-vs-categorical-relationships"><i class="fa fa-check"></i>Visualizing categorical vs categorical relationships</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#assignment-3-due-wednesday-feb.-8th-1159pm"><i class="fa fa-check"></i>Assignment 3: due Wednesday, Feb. 8th @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#appendix-r-functions-2"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#data-wrangling-r-functions"><i class="fa fa-check"></i>Data Wrangling R functions</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#ggplot2-foundation-functions-1"><i class="fa fa-check"></i>ggplot2 foundation functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html"><i class="fa fa-check"></i><b>5</b> Multivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#learning-goals-4"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#adding-more-aesthetic-attributes"><i class="fa fa-check"></i>Adding More Aesthetic Attributes</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#exploring-sat-scores"><i class="fa fa-check"></i>Exploring SAT Scores</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#other-multivariate-visualization-techniques"><i class="fa fa-check"></i>Other Multivariate Visualization Techniques</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#heat-maps"><i class="fa fa-check"></i>Heat maps</a></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#star-plots"><i class="fa fa-check"></i>Star plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="spatial-visualization.html"><a href="spatial-visualization.html"><i class="fa fa-check"></i><b>6</b> Spatial Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#learning-goals-5"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#motivation"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#plotting-points-on-a-map"><i class="fa fa-check"></i>Plotting Points on a Map</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#starbucks-example"><i class="fa fa-check"></i>Starbucks Example</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#examples-more-with-starbucks"><i class="fa fa-check"></i>Examples: More with Starbucks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#contour-maps"><i class="fa fa-check"></i>Contour Maps</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleths"><i class="fa fa-check"></i>Choropleths</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choose-a-map"><i class="fa fa-check"></i>Choose a Map</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#connect-map-idregion-variable-to-data-being-plotted"><i class="fa fa-check"></i>Connect Map ID/Region Variable to Data Being Plotted</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#use-ggplot2-features"><i class="fa fa-check"></i>Use <code>ggplot2</code> Features</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#expand_limits"><i class="fa fa-check"></i><code>expand_limits()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#theme_map"><i class="fa fa-check"></i><code>theme_map()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#add-ggplot2-layers"><i class="fa fa-check"></i>Add <code>ggplot2</code> Layers</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources-1"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#alternative-methods"><i class="fa fa-check"></i>Alternative Methods</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#practice-even-more-with-starbucks"><i class="fa fa-check"></i>Practice: Even More with Starbucks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#dynamnic-maps-with-leaflet"><i class="fa fa-check"></i>Dynamnic Maps with <code>leaflet</code></a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#steps-to-create-a-map"><i class="fa fa-check"></i>Steps to Create a Map</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#creating-a-map-with-markerspoints"><i class="fa fa-check"></i>Creating a Map with Markers/Points</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleth-layers-with-addpolygons"><i class="fa fa-check"></i>Choropleth Layers with <code>addPolygons()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources-2"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#assignment-4-due-wednesday-february-15th-1159pm"><i class="fa fa-check"></i>Assignment 4: due Wednesday, February 15th @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#appendix-r-functions-3"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#mapping-points-functions"><i class="fa fa-check"></i>Mapping Points Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#contourdensity-mapping-functions"><i class="fa fa-check"></i>Contour/Density Mapping Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleths-mapping-functions"><i class="fa fa-check"></i>Choropleths Mapping Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#dynamic-mapping-functions"><i class="fa fa-check"></i>Dynamic Mapping Functions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Data Wrangling</b></span></li>
<li class="chapter" data-level="7" data-path="six-main-verbs.html"><a href="six-main-verbs.html"><i class="fa fa-check"></i><b>7</b> Six Main Verbs</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#learning-goals-6"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#data-wrangling-introduction"><i class="fa fa-check"></i>Data Wrangling Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#example-us-births"><i class="fa fa-check"></i>Example: US Births</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#tidy-data-1"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#data-verbs"><i class="fa fa-check"></i>Data Verbs</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#piping"><i class="fa fa-check"></i>Piping</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#manipulating-dates"><i class="fa fa-check"></i>Manipulating Dates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#practice-part-1-baby-names"><i class="fa fa-check"></i>Practice Part 1: Baby Names</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#assignment-5-part-1-due-friday-feb-24-1159pm"><i class="fa fa-check"></i>Assignment 5 (Part 1): due Friday, Feb 24 @ 11:59pm</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#seasonality"><i class="fa fa-check"></i>Seasonality</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#day-of-the-week"><i class="fa fa-check"></i>Day of the Week</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#holidays"><i class="fa fa-check"></i>Holidays</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#geography"><i class="fa fa-check"></i>Geography</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#superstition"><i class="fa fa-check"></i>Superstition</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#appendix-r-functions-4"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#six-main-verbs-1"><i class="fa fa-check"></i>Six Main Verbs</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#logicalboolean-operators"><i class="fa fa-check"></i>Logical/Boolean Operators</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="reshaping-data.html"><a href="reshaping-data.html"><i class="fa fa-check"></i><b>8</b> Reshaping Data</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#learning-goals-7"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#wide-and-long-data-formats"><i class="fa fa-check"></i>Wide and Long Data Formats</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#wider"><i class="fa fa-check"></i>Wider</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#longer"><i class="fa fa-check"></i>Longer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#example-the-daily-show-guests"><i class="fa fa-check"></i>Example: The Daily Show Guests</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#assignment-5-part-2-due-friday-feb-24-1159pm"><i class="fa fa-check"></i>Assignment 5 (Part 2): due Friday, Feb 24 @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#appendix-r-functions-5"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#reshaping-functions"><i class="fa fa-check"></i>Reshaping Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html"><i class="fa fa-check"></i><b>9</b> Joining Two Data Frames</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#learning-goals-8"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#joins"><i class="fa fa-check"></i>Joins</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#establishing-a-match-between-cases"><i class="fa fa-check"></i>Establishing a match between cases</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#matching"><i class="fa fa-check"></i>Matching</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#mutating-joins"><i class="fa fa-check"></i>Mutating joins</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#filtering-joins"><i class="fa fa-check"></i>Filtering joins</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#assignment-6-part-1-due-friday-march-3rd-1159pm"><i class="fa fa-check"></i>Assignment 6 Part 1: due Friday, March 3rd @ 11:59pm</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#bicycle-use-patterns"><i class="fa fa-check"></i>Bicycle-Use Patterns</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#appendix-r-functions-6"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#mutating-joins-1"><i class="fa fa-check"></i>Mutating Joins</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#filtering-joins-1"><i class="fa fa-check"></i>Filtering Joins</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html"><i class="fa fa-check"></i><b>10</b> Categorical Variables as Factors</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#learning-goals-9"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#example-grade-distribution"><i class="fa fa-check"></i>Example: Grade Distribution</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#converting-to-factor"><i class="fa fa-check"></i>Converting to factor</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-order-of-levels"><i class="fa fa-check"></i>Changing the order of levels</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-value-of-levels"><i class="fa fa-check"></i>Changing the value of levels</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#assignment-6-part-2-due-friday-march-3rd-1159pm"><i class="fa fa-check"></i>Assignment 6 Part 2: due Friday, March 3rd @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#appendix-r-functions-7"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-order-of-levels-1"><i class="fa fa-check"></i>Changing the order of levels</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-value-of-levels-1"><i class="fa fa-check"></i>Changing the value of levels</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="midterm-review.html"><a href="midterm-review.html"><i class="fa fa-check"></i><b>11</b> Midterm Review</a>
<ul>
<li class="chapter" data-level="" data-path="midterm-review.html"><a href="midterm-review.html#template-rmd"><i class="fa fa-check"></i>Template Rmd</a></li>
<li class="chapter" data-level="" data-path="midterm-review.html"><a href="midterm-review.html#data-kiva"><i class="fa fa-check"></i>Data: Kiva</a>
<ul>
<li class="chapter" data-level="" data-path="midterm-review.html"><a href="midterm-review.html#investigate-the-partners-data-table"><i class="fa fa-check"></i>Investigate the <code>partners</code> Data Table</a></li>
<li class="chapter" data-level="" data-path="midterm-review.html"><a href="midterm-review.html#investigate-the-loans-data-table"><i class="fa fa-check"></i>Investigate the <code>loans</code> Data Table</a></li>
<li class="chapter" data-level="" data-path="midterm-review.html"><a href="midterm-review.html#putting-them-together"><i class="fa fa-check"></i>Putting them together</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Data Acquisition &amp; Cleaning</b></span></li>
<li class="chapter" data-level="12" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>12</b> Data Import</a>
<ul>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#learning-goals-10"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#finding-importing-and-cleaning-data"><i class="fa fa-check"></i>Finding, Importing, and Cleaning Data</a>
<ul>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#finding-existing-data-sets"><i class="fa fa-check"></i>Finding Existing Data Sets</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#loading-datasets"><i class="fa fa-check"></i>Loading Datasets</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#checking-the-imported-datasets"><i class="fa fa-check"></i>Checking the Imported Datasets</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#cleaning-datasets"><i class="fa fa-check"></i>Cleaning Datasets</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#assignment-8-part-1-due-wednesday-march-29th-1159pm"><i class="fa fa-check"></i>Assignment 8 Part 1 (due Wednesday, March 29th @ 11:59pm)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">COMP/STAT 112: Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-import" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">Topic 12</span> Data Import<a href="data-import.html#data-import" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-goals-10" class="section level2 unnumbered hasAnchor">
<h2>Learning Goals<a href="data-import.html#learning-goals-10" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Develop comfort in finding an existing data set to import into R</li>
<li>Develop comfort in importing data of a variety of file types into R</li>
<li>Understand and implement the data cleaning process to make values consistent</li>
<li>Understand the implications of different ways of dealing with missing values with <code>replace_na</code> and <code>drop_na</code></li>
</ul>
<p>Create a new Rmd file (save it as 12-Data Import.Rmd). Put this file in a folder <code>Assignment_08</code> in your <code>COMP_STAT_112</code> folder.</p>
</div>
<div id="finding-importing-and-cleaning-data" class="section level2 unnumbered hasAnchor">
<h2>Finding, Importing, and Cleaning Data<a href="data-import.html#finding-importing-and-cleaning-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Additional resources and readings:<br />
1. <a href="https://github.com/rstudio/cheatsheets/raw/main/data-import.pdf">Data Import Cheat Sheet</a><br />
2. <a href="https://readr.tidyverse.org/"><code>readr</code> documentation</a><br />
3. <a href="http://r4ds.had.co.nz/data-import.html">Data import</a> from Wickham and Grolemund <br/>
4. <a href="http://r4ds.had.co.nz/tidy-data.html#missing-values-3">Missing data</a> from Wickham and Grolemund <br/>
5. <a href="https://mdsr-book.github.io/mdsr2e/ch-dataII.html#data-intake">Data intake</a> from Baumer, Kaplan, and Horton<br />
6. <a href="https://www.youtube.com/watch?v=GtCsjtZBNp4">Using the import wizard</a> from Prof. Lendway</p>
<p>In practice, data science is not as glamorous as building fancy classifiers and creating visualizations all the time. Data scientists spend <a href="https://www.forbes.com/sites/gilpress/2016/03/23/data-preparation-most-time-consuming-least-enjoyable-data-science-task-survey-says/#755d4d426f63">80% of their time acquiring and cleaning data</a>. While the skill of data acquisition is best learned through experience, this section of the course will outline the most common approaches to acquiring data.</p>
<p>When importing and cleaning a dataset, take careful notes in your R Markdown. Explain where you found the dataset (the source). Record the steps you took to clean and import the data in case somebody else needs to replicate your analysis. You should also make sure to cite and credit the creator of the dataset.</p>
<div id="finding-existing-data-sets" class="section level3 unnumbered hasAnchor">
<h3>Finding Existing Data Sets<a href="data-import.html#finding-existing-data-sets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-312"></span>
<img src="images/csv_search.jpeg" alt="An example Google search for a csv file by including filetype:csv." width="486" />
<p class="caption">
Figure 12.1: An example Google search.
</p>
</div>
<p>The easiest way to get data is by finding an existing dataset that has been created by somebody else. Search engines such as Google can be excellent tools, especially when using file type filters. For example, if you are looking for a dataset about movie reviews, you might search for “<code>movie reviews filetype:csv</code>”. You could also try searching for other common filetypes that are compatible with R, such as <code>.tsv</code>, <code>.xls</code>, <code>.xlsx</code>, or <code>.rds</code>.</p>
<p>Another good resource for datasets are compendiums of datasets such as the excellent and continuously-evolving <a href="https://github.com/caesar0301/awesome-public-datasets">awesome-public-datasets</a> GitHub repo, <a href="https://www.kaggle.com/datasets">Kaggle datasets</a> or the <a href="https://data.world/">data.world website</a> website. You can find links to other similar compendiums at the end of the awesome-public-datasets page.</p>
</div>
<div id="loading-datasets" class="section level3 unnumbered hasAnchor">
<h3>Loading Datasets<a href="data-import.html#loading-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Once you have a dataset, it’s time to load it into <code>R</code>. Don’t be frustrated if this step takes some time.</p>
<p>The table below lists some common data import functions and when you would use them.</p>
<table>
<colgroup>
<col width="42%" />
<col width="57%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Use when</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>read_csv()</code></td>
<td>data are saved in .csv (comma delimited or comma separated values) format - you can save Excel files and Google Sheets in this format</td>
</tr>
<tr class="even">
<td><code>read_delim()</code></td>
<td>data are saved in other delimited formats (tab, space, etc.)</td>
</tr>
<tr class="odd">
<td><code>read_sheet()</code></td>
<td>data are in a Google Sheet</td>
</tr>
<tr class="even">
<td><code>st_read()</code></td>
<td>reading in a shapefile</td>
</tr>
</tbody>
</table>
<p>A few tips:</p>
<ul>
<li>When reading in data from a file, one tip is to initially use the Import Wizard to help write the code. DO NOT use it to import the data as you will need the code to read in the data in order to knit your document. Prof. Lendway has posted a <a href="https://www.youtube.com/embed/GtCsjtZBNp4">video tutorial on the Import Wizard</a><br />
</li>
<li>The import functions <code>read_csv</code>, <code>read_csv2</code>, and <code>read_tsv</code> from the <code>readr</code> package are faster than their counterparts <code>read.csv</code>, <code>read.csv2</code>, and <code>read.tsv</code> from the <code>base</code> package for large files. They also have more flexible parsers (e.g., for dates, times, percentages). We recommend you use these functions instead of the <code>base</code> functions like <code>read.csv</code>. The package <code>fread</code> has other import functions and is also faster for large datasets. For smaller data sets (say 1MB or less), there won’t be that much difference in time for the three different packages.</li>
<li><code>read_csv2</code> is for semi-colon delimited files, whereas <code>read_csv</code> is for comma delimited files.</li>
<li>The <code>readr</code> functions automatically guess the type of data in each column (e.g., character, double, integer). You will often see a message just after the import telling you what it chose for each column. If you think there is an issue, you can use the function <code>problems()</code> to detect problems, and/or specify how the columns should be imported. See the section on “column specification” in the <a href="https://github.com/rstudio/cheatsheets/raw/main/data-import.pdf">Data Import Cheat Sheet</a> for more info.</li>
<li>If you have trouble importing a dataset, try to first import it into a different data such as Google Sheets or Excel tool and then export it as a TSV or CSV before reading it into <code>R</code>.</li>
<li>For really messy data, <a href="http://openrefine.org/">OpenRefine</a> is complicated but powerful (<a href="https://www.youtube.com/watch?v=WCRexQXYFrI">YouTube demo</a>).</li>
<li>When you are importing a large file, you might want to first try importing a subset of the data. For example, if you want to take the first 17 rows only, you can write <code>read_csv("file.csv",n_max=17)</code></li>
<li>Similarly, you might want to skip the first <span class="math inline">\(n\)</span> lines of the file when importing, select only certain columns to read in, or choose a random subset of the rows. See the cheat sheet for instructions on these tasks or just google!</li>
</ul>
</div>
<div id="checking-the-imported-datasets" class="section level3 unnumbered hasAnchor">
<h3>Checking the Imported Datasets<a href="data-import.html#checking-the-imported-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After reading in new data, it is ALWAYS a good idea to do some quick checks of the data. Here are two first steps that are especially useful:</p>
<ol style="list-style-type: decimal">
<li><p>Open the data in the spreadsheet-like viewer with <code>View(dataset_name)</code> and take a look at it. Sort it by different variables by clicking on the arrows next to the variable name. Make sure there isn’t anything unexpected.</p></li>
<li><p>Do a quick summary of the data. The code below is one way to do this. For quantitative variables, it provides summary statistics and will let you know if there are missing values. For factors (they need to be factors, not just character variables - the <code>mutate()</code> changes them to factors), it shows you counts for the top categories and tells you if there are any missing values.</p></li>
</ol>
<pre><code>dataset_name %&gt;% 
  mutate(across(where(is.character), as.factor)) %&gt;% 
  summary()</code></pre>
</div>
<div id="cleaning-datasets" class="section level3 unnumbered hasAnchor">
<h3>Cleaning Datasets<a href="data-import.html#cleaning-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Cleaning Categorical Variables</strong></p>
<p>First we want to make sure the factors are “clean”, meaning consistent values in the correct format. For example, <code>true</code> and <code>TRUE</code> and <code>T</code> will be three different factors. The easiest way to manage this is to look at the levels for the factor and replace values with a messy factor to a clean one. For example, the following code cleans up values in true/false values in column <code>X</code> in a data set called <code>df</code>:</p>
<pre><code>df &lt;- df %&gt;% mutate(X = fct_recode(X, &quot;TRUE&quot; = &quot;T&quot;, &quot;TRUE&quot; = &quot;true&quot;, &quot;FALSE&quot; = &quot;f&quot;, &quot;FALSE&quot; = &quot;N&quot;, &quot;FALSE&quot; = &quot;No&quot;))</code></pre>
<div class="example">
<p><span id="exm:unnamed-chunk-313" class="example"><strong>Example 12.1  (Clean up the levels on the Messy IMDB 5000 dataset) </strong></span>We will use a slightly “messied” <a href="data/imdb_5000_messy.csv">version</a> of the <a href="https://www.kaggle.com/deepmatrix/imdb-5000-movie-dataset">IMDB 5000 Dataset</a>, collected by chuansun76 on Kaggle.]</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Use <code>read_csv</code> to load the IMDB 5000 dataset from “<a href="https://jamesnormington.github.io/112_spring_2023/data/imdb_5000_messy.csv" class="uri">https://jamesnormington.github.io/112_spring_2023/data/imdb_5000_messy.csv</a>”, and save it as <code>imdbMessy</code>.</li>
</ol>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="data-import.html#cb227-1" aria-hidden="true" tabindex="-1"></a>imdbMessy <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://jamesnormington.github.io/112_spring_2023/data/imdb_5000_messy.csv&quot;</span>)</span></code></pre></div>
</details>
<p> 
b. Print out the variable names.</p>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="data-import.html#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(imdbMessy) <span class="co">#order = order in dataset</span></span></code></pre></div>
<pre><code>##  [1] &quot;...1&quot;                      &quot;color&quot;                    
##  [3] &quot;director_name&quot;             &quot;num_critic_for_reviews&quot;   
##  [5] &quot;duration&quot;                  &quot;director_facebook_likes&quot;  
##  [7] &quot;actor_3_facebook_likes&quot;    &quot;actor_2_name&quot;             
##  [9] &quot;actor_1_facebook_likes&quot;    &quot;gross&quot;                    
## [11] &quot;genres&quot;                    &quot;actor_1_name&quot;             
## [13] &quot;movie_title&quot;               &quot;num_voted_users&quot;          
## [15] &quot;cast_total_facebook_likes&quot; &quot;actor_3_name&quot;             
## [17] &quot;facenumber_in_poster&quot;      &quot;plot_keywords&quot;            
## [19] &quot;movie_imdb_link&quot;           &quot;num_user_for_reviews&quot;     
## [21] &quot;language&quot;                  &quot;country&quot;                  
## [23] &quot;content_rating&quot;            &quot;budget&quot;                   
## [25] &quot;title_year&quot;                &quot;actor_2_facebook_likes&quot;   
## [27] &quot;imdb_score&quot;                &quot;aspect_ratio&quot;             
## [29] &quot;movie_facebook_likes&quot;</code></pre>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="data-import.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(imdbMessy) <span class="co">#order = alphabetical order</span></span></code></pre></div>
<pre><code>##  [1] &quot;actor_1_facebook_likes&quot;    &quot;actor_1_name&quot;             
##  [3] &quot;actor_2_facebook_likes&quot;    &quot;actor_2_name&quot;             
##  [5] &quot;actor_3_facebook_likes&quot;    &quot;actor_3_name&quot;             
##  [7] &quot;aspect_ratio&quot;              &quot;budget&quot;                   
##  [9] &quot;cast_total_facebook_likes&quot; &quot;color&quot;                    
## [11] &quot;content_rating&quot;            &quot;country&quot;                  
## [13] &quot;director_facebook_likes&quot;   &quot;director_name&quot;            
## [15] &quot;duration&quot;                  &quot;facenumber_in_poster&quot;     
## [17] &quot;genres&quot;                    &quot;gross&quot;                    
## [19] &quot;imdb_score&quot;                &quot;language&quot;                 
## [21] &quot;movie_facebook_likes&quot;      &quot;movie_imdb_link&quot;          
## [23] &quot;movie_title&quot;               &quot;num_critic_for_reviews&quot;   
## [25] &quot;num_user_for_reviews&quot;      &quot;num_voted_users&quot;          
## [27] &quot;plot_keywords&quot;             &quot;title_year&quot;</code></pre>
</details>
<p> 
c. Examine the color variable. What are the existing values?</p>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="data-import.html#cb232-1" aria-hidden="true" tabindex="-1"></a>imdbMessy <span class="sc">%&gt;%</span> <span class="fu">select</span>(color) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 1
##   color
##   &lt;chr&gt;
## 1 Color
## 2 Color
## 3 Color
## 4 Color
## 5 &lt;NA&gt; 
## 6 Color</code></pre>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="data-import.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">factor</span>(imdbMessy<span class="sc">$</span>color))</span></code></pre></div>
<pre><code>## [1] &quot;B&amp;W&quot;             &quot;Black and White&quot; &quot;color&quot;           &quot;Color&quot;          
## [5] &quot;COLOR&quot;</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="data-import.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(imdbMessy<span class="sc">$</span>color)</span></code></pre></div>
<pre><code>## [1] &quot;Color&quot;           NA                &quot;Black and White&quot; &quot;COLOR&quot;          
## [5] &quot;color&quot;           &quot;B&amp;W&quot;</code></pre>
</details>
<ol start="4" style="list-style-type: lower-alpha">
<li>How often does each color occur? <em>Hint:</em> <code>table</code> or <code>count</code></li>
</ol>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="data-import.html#cb238-1" aria-hidden="true" tabindex="-1"></a>imdbMessy <span class="sc">%&gt;%</span> <span class="fu">count</span>(color)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   color               n
##   &lt;chr&gt;           &lt;int&gt;
## 1 B&amp;W                10
## 2 Black and White   199
## 3 color              30
## 4 Color            4755
## 5 COLOR              30
## 6 &lt;NA&gt;               19</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="data-import.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(imdbMessy<span class="sc">$</span>color)</span></code></pre></div>
<pre><code>## 
##             B&amp;W Black and White           color           Color           COLOR 
##              10             199              30            4755              30</code></pre>
</details>
<ol start="5" style="list-style-type: lower-alpha">
<li>The <code>read_csv</code> read in the <code>color</code> values as strings. For this exercise, let’s convert them to factor using the code: <code>imdbMessy &lt;- imdbMessy %&gt;% mutate(color = factor(color))</code>.</li>
</ol>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="data-import.html#cb242-1" aria-hidden="true" tabindex="-1"></a>imdbMessy <span class="ot">&lt;-</span> imdbMessy <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">color =</span> <span class="fu">factor</span>(color))</span></code></pre></div>
</details>
<ol start="6" style="list-style-type: lower-alpha">
<li>Select what you think is the best value for each level and replace “messy” versions of the value with clean ones with the <code>fct_recode</code> function as shown above. How many entries are there for each level now?</li>
</ol>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="data-import.html#cb243-1" aria-hidden="true" tabindex="-1"></a>imdbMessy <span class="ot">&lt;-</span> imdbMessy <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">color =</span> <span class="fu">fct_recode</span>(color, <span class="st">&quot;B&amp;W&quot;</span> <span class="ot">=</span> <span class="st">&quot;Black and White&quot;</span>, <span class="st">&quot;Color&quot;</span> <span class="ot">=</span> <span class="st">&quot;color&quot;</span>, <span class="st">&quot;Color&quot;</span> <span class="ot">=</span> <span class="st">&quot;COLOR&quot;</span>))</span>
<span id="cb243-2"><a href="data-import.html#cb243-2" aria-hidden="true" tabindex="-1"></a>imdbMessy <span class="sc">%&gt;%</span> <span class="fu">count</span>(color)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   color     n
##   &lt;fct&gt; &lt;int&gt;
## 1 B&amp;W     209
## 2 Color  4815
## 3 &lt;NA&gt;     19</code></pre>
</details>
<p><strong>Addressing Missing Data</strong></p>
<p>Finally, you should look for and address missing data, encoded as <code>NA</code> (not available) in <code>R</code>. There is no single formula for dealing with NAs. You should first look to see how many NAs appear in each column:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="data-import.html#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(imdbMessy))</span></code></pre></div>
<p>Study the individual observations with NAs carefully. Why do you think they are missing? Are certain types of observations more likely to have NAs?</p>
<p>You have several options for dealing with NAs (<em>and they have different consequences</em>):</p>
<ul>
<li>You can remove observations with one or more NAs (see <a href="https://tidyr.tidyverse.org/reference/drop_na.html"><code>drop_na</code></a>).</li>
<li>You can remove columns with many NA values.</li>
<li>You can replace NAs with a reasonable value (called <em>imputing</em> values). This could be a default value (like zero), or the average for a column. (see <a href="https://tidyr.tidyverse.org/reference/replace_na.html"><code>replace_na</code></a>)</li>
<li>You can use packages such as <code>missForest</code> that fill in missing values with statistical predictions.</li>
</ul>
<p>There is no perfect approach to dealing with NAs, and you must <em>think carefully</em> about how removing or replacing missing data may affect your work.</p>
<div class="example">
<p><span id="exm:unnamed-chunk-321" class="example"><strong>Example 12.2  (Address NA values in the Messy IMDB 5000 dataset) </strong></span>Consider <code>imdbMessy</code>.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Print out the number of NAs in each of the columns.</li>
</ol>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="data-import.html#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(imdbMessy))</span></code></pre></div>
<pre><code>##                      ...1                     color             director_name 
##                         0                        19                       104 
##    num_critic_for_reviews                  duration   director_facebook_likes 
##                        50                        15                       104 
##    actor_3_facebook_likes              actor_2_name    actor_1_facebook_likes 
##                        23                        13                         7 
##                     gross                    genres              actor_1_name 
##                       884                         0                         7 
##               movie_title           num_voted_users cast_total_facebook_likes 
##                         0                         0                         0 
##              actor_3_name      facenumber_in_poster             plot_keywords 
##                        23                        13                       153 
##           movie_imdb_link      num_user_for_reviews                  language 
##                         0                        21                        12 
##                   country            content_rating                    budget 
##                         5                       303                       492 
##                title_year    actor_2_facebook_likes                imdb_score 
##                       108                        13                         0 
##              aspect_ratio      movie_facebook_likes 
##                       329                         0</code></pre>
</details>
<ol start="2" style="list-style-type: lower-alpha">
<li>Consider the <code>actor_1_facebook_likes</code> column. Take a look at a few of the records that have NA values. Why do you think there are NAs?</li>
</ol>
<details>
<summary>
Solution
</summary>
<p>This variable is missing if <code>actor_1_name</code> is missing, which suggests that this movie doesn’t have an actor 1 listed.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="data-import.html#cb248-1" aria-hidden="true" tabindex="-1"></a>imdbMessy <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(actor_1_facebook_likes)) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 29
##    ...1 color director_…¹ num_c…² durat…³ direc…⁴ actor…⁵ actor…⁶ actor…⁷  gross
##   &lt;dbl&gt; &lt;fct&gt; &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;
## 1  4503 Color Léa Pool         23      97       4      NA &lt;NA&gt;         NA  24784
## 2  4520 Color Harry Gantz      12     105       0      NA &lt;NA&gt;         NA 247740
## 3  4721 Color U. Roberto…       3      80       6      NA &lt;NA&gt;         NA   2245
## 4  4838 Color Pan Nalin        15     102      95      NA &lt;NA&gt;         NA  16892
## 5  4946 Color Amal Al-Ag…      NA      62      58      NA &lt;NA&gt;         NA     NA
## 6  4947 Color Andrew Ber…      12      90       0      NA &lt;NA&gt;         NA     NA
## # … with 19 more variables: genres &lt;chr&gt;, actor_1_name &lt;chr&gt;,
## #   movie_title &lt;chr&gt;, num_voted_users &lt;dbl&gt;, cast_total_facebook_likes &lt;dbl&gt;,
## #   actor_3_name &lt;chr&gt;, facenumber_in_poster &lt;dbl&gt;, plot_keywords &lt;chr&gt;,
## #   movie_imdb_link &lt;chr&gt;, num_user_for_reviews &lt;dbl&gt;, language &lt;chr&gt;,
## #   country &lt;chr&gt;, content_rating &lt;chr&gt;, budget &lt;dbl&gt;, title_year &lt;dbl&gt;,
## #   actor_2_facebook_likes &lt;dbl&gt;, imdb_score &lt;dbl&gt;, aspect_ratio &lt;dbl&gt;,
## #   movie_facebook_likes &lt;dbl&gt;, and abbreviated variable names …</code></pre>
</details>
<ol start="3" style="list-style-type: lower-alpha">
<li>Create a new dataframe that removes observations that have NAs for <code>actor_1_facebook_likes</code>.</li>
</ol>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="data-import.html#cb250-1" aria-hidden="true" tabindex="-1"></a>imdbMessysub <span class="ot">&lt;-</span> imdbMessy <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(actor_1_facebook_likes))  <span class="co">#Notice how I saved this new smaller dataset to a new name</span></span></code></pre></div>
</details>
<ol start="4" style="list-style-type: lower-alpha">
<li>Create a second new data frame that replaces NAs in <code>actor_1_facebook_likes</code> with 0.</li>
</ol>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="data-import.html#cb251-1" aria-hidden="true" tabindex="-1"></a>imdbMessysub2 <span class="ot">&lt;-</span> imdbMessy <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">actor_1_facebook_likes =</span> <span class="fu">replace_na</span>(actor_1_facebook_likes,<span class="dv">0</span>))  </span></code></pre></div>
</details>
</div>
</div>
<div id="assignment-8-part-1-due-wednesday-march-29th-1159pm" class="section level2 unnumbered hasAnchor">
<h2>Assignment 8 Part 1 (due Wednesday, March 29th @ 11:59pm)<a href="data-import.html#assignment-8-part-1-due-wednesday-march-29th-1159pm" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="exercise">
<p><span id="exr:unnamed-chunk-326" class="exercise"><strong>Exercise 12.1  </strong></span>Find a dataset that is not built into <code>R</code> and is related to one of the following topics:</p>
</div>
<ul>
<li>A personal hobby or passion</li>
<li>Your hometown, or a place you have lived</li>
<li>Something you know nothing about, and are curious to learn about</li>
</ul>
<p>Load the data into <code>R</code>, make sure it is clean, and construct one interesting visualization of the data.</p>

</div>
</div>

















            </section>

          </div>
        </div>
      </div>
<a href="midterm-review.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
