<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 5 Multivariate Visualizations | COMP/STAT 112: Introduction to Data Science</title>
  <meta name="description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 5 Multivariate Visualizations | COMP/STAT 112: Introduction to Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/logo.png" />
  <meta property="og:description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="github-repo" content="JamesNormington/112_spring_2023/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 5 Multivariate Visualizations | COMP/STAT 112: Introduction to Data Science" />
  
  <meta name="twitter:description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="twitter:image" content="/images/logo.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bivariate-visualizations.html"/>
<link rel="next" href="spatial-visualization.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="custom_styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href = "./">COMP/STAT 112: Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html"><i class="fa fa-check"></i>Course Schedule</a></li>
<li class="part"><span><b>I Foundation</b></span></li>
<li class="chapter" data-level="1" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html"><i class="fa fa-check"></i><b>1</b> Intro to R, RStudio, and R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#learning-goals"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#getting-started-in-rstudio"><i class="fa fa-check"></i>Getting Started in RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#download-r-rstudio"><i class="fa fa-check"></i>Download R &amp; RStudio</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#a-quick-tour-of-rstudio"><i class="fa fa-check"></i>A quick tour of RStudio</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#data"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#tidy-data"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#data-basics-in-rstudio"><i class="fa fa-check"></i>Data Basics in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#r-markdown-and-reproducible-research"><i class="fa fa-check"></i>R Markdown and Reproducible Research</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#assignment-1-due-wednesday-january-25-1159pm"><i class="fa fa-check"></i>Assignment 1 (due Wednesday, January 25 @ 11:59pm)</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#appendix-r-functions"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#r-as-a-calculator"><i class="fa fa-check"></i>R as a calculator</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#r-basics"><i class="fa fa-check"></i>R Basics</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Visualization</b></span></li>
<li class="chapter" data-level="2" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html"><i class="fa fa-check"></i><b>2</b> Intro to Data Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#learning-goals-1"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#benefits-of-visualizations"><i class="fa fa-check"></i>Benefits of Visualizations</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#glyphs"><i class="fa fa-check"></i>Glyphs</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#data-glyph"><i class="fa fa-check"></i>Data Glyph</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#components-of-graphics"><i class="fa fa-check"></i>Components of Graphics</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#eye-training-for-the-layered-grammar-of-graphics"><i class="fa fa-check"></i>Eye Training for the Layered Grammar of Graphics</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#glyph-ready-data"><i class="fa fa-check"></i>Glyph-Ready Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#data-visualization-workflow-ggplot"><i class="fa fa-check"></i>Data Visualization Workflow + <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#layers-building-up-complex-plots"><i class="fa fa-check"></i>Layers – Building up Complex Plots</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#an-example"><i class="fa fa-check"></i>An Example</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#categorical-univariate-visualization"><i class="fa fa-check"></i>Categorical univariate visualization</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#quantitative-univariate-visualization"><i class="fa fa-check"></i>Quantitative univariate visualization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#assignment-2-due-wednesday-feb-1-at-1159pm"><i class="fa fa-check"></i>Assignment 2 (due Wednesday, Feb 1 at 11:59pm)</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#appendix-r-functions-1"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#basic-r-functions"><i class="fa fa-check"></i>Basic R functions</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#ggplot2-foundation-functions"><i class="fa fa-check"></i>ggplot2 foundation functions</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#more-ggplot2-functions"><i class="fa fa-check"></i>more ggplot2 functions</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#ggplot2-aesthetic-mapping-options"><i class="fa fa-check"></i>ggplot2 aesthetic mapping options</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="effective-visualizations.html"><a href="effective-visualizations.html"><i class="fa fa-check"></i><b>3</b> Effective Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#learning-goals-2"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#effective-visualizations-1"><i class="fa fa-check"></i>Effective Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#benefits-of-visualizations-1"><i class="fa fa-check"></i>Benefits of Visualizations</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#analysis-of-graphics"><i class="fa fa-check"></i>Analysis of Graphics</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#properties-of-effective-visualizations"><i class="fa fa-check"></i>Properties of Effective Visualizations</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#basic-rules-for-constructing-graphics"><i class="fa fa-check"></i>Basic Rules for Constructing Graphics</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#still-to-come"><i class="fa fa-check"></i>Still to Come</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#practice"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html"><i class="fa fa-check"></i><b>4</b> Bivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#learning-goals-3"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#alterative-text-for-visualizations"><i class="fa fa-check"></i>Alterative Text for Visualizations</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#bivariate-visualizations-1"><i class="fa fa-check"></i>Bivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#getting-to-know-the-dataset"><i class="fa fa-check"></i>Getting to know the dataset</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#background-on-visualizing-relationships"><i class="fa fa-check"></i>Background on visualizing relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-quantitiative-vs-quantitative-relationships"><i class="fa fa-check"></i>Visualizing quantitiative vs quantitative relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-quantitative-vs.-categorical-relationships"><i class="fa fa-check"></i>Visualizing quantitative vs. categorical relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-categorical-vs-categorical-relationships"><i class="fa fa-check"></i>Visualizing categorical vs categorical relationships</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#assignment-3-due-wednesday-feb.-8th-1159pm"><i class="fa fa-check"></i>Assignment 3: due Wednesday, Feb. 8th @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#appendix-r-functions-2"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#data-wrangling-r-functions"><i class="fa fa-check"></i>Data Wrangling R functions</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#ggplot2-foundation-functions-1"><i class="fa fa-check"></i>ggplot2 foundation functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html"><i class="fa fa-check"></i><b>5</b> Multivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#learning-goals-4"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#adding-more-aesthetic-attributes"><i class="fa fa-check"></i>Adding More Aesthetic Attributes</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#exploring-sat-scores"><i class="fa fa-check"></i>Exploring SAT Scores</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#other-multivariate-visualization-techniques"><i class="fa fa-check"></i>Other Multivariate Visualization Techniques</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#heat-maps"><i class="fa fa-check"></i>Heat maps</a></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#star-plots"><i class="fa fa-check"></i>Star plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="spatial-visualization.html"><a href="spatial-visualization.html"><i class="fa fa-check"></i><b>6</b> Spatial Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#learning-goals-5"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#motivation"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#plotting-points-on-a-map"><i class="fa fa-check"></i>Plotting Points on a Map</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#starbucks-example"><i class="fa fa-check"></i>Starbucks Example</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#examples-more-with-starbucks"><i class="fa fa-check"></i>Examples: More with Starbucks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#contour-maps"><i class="fa fa-check"></i>Contour Maps</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleths"><i class="fa fa-check"></i>Choropleths</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choose-a-map"><i class="fa fa-check"></i>Choose a Map</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#connect-map-idregion-variable-to-data-being-plotted"><i class="fa fa-check"></i>Connect Map ID/Region Variable to Data Being Plotted</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#use-ggplot2-features"><i class="fa fa-check"></i>Use <code>ggplot2</code> Features</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#expand_limits"><i class="fa fa-check"></i><code>expand_limits()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#theme_map"><i class="fa fa-check"></i><code>theme_map()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#add-ggplot2-layers"><i class="fa fa-check"></i>Add <code>ggplot2</code> Layers</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources-1"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#alternative-methods"><i class="fa fa-check"></i>Alternative Methods</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#practice-even-more-with-starbucks"><i class="fa fa-check"></i>Practice: Even More with Starbucks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#dynamnic-maps-with-leaflet"><i class="fa fa-check"></i>Dynamnic Maps with <code>leaflet</code></a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#steps-to-create-a-map"><i class="fa fa-check"></i>Steps to Create a Map</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#creating-a-map-with-markerspoints"><i class="fa fa-check"></i>Creating a Map with Markers/Points</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleth-layers-with-addpolygons"><i class="fa fa-check"></i>Choropleth Layers with <code>addPolygons()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources-2"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#assignment-4-due-wednesday-february-15th-1159pm"><i class="fa fa-check"></i>Assignment 4: due Wednesday, February 15th @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#appendix-r-functions-3"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#mapping-points-functions"><i class="fa fa-check"></i>Mapping Points Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#contourdensity-mapping-functions"><i class="fa fa-check"></i>Contour/Density Mapping Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleths-mapping-functions"><i class="fa fa-check"></i>Choropleths Mapping Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#dynamic-mapping-functions"><i class="fa fa-check"></i>Dynamic Mapping Functions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Data Wrangling</b></span></li>
<li class="chapter" data-level="7" data-path="six-main-verbs.html"><a href="six-main-verbs.html"><i class="fa fa-check"></i><b>7</b> Six Main Verbs</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#learning-goals-6"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#data-wrangling-introduction"><i class="fa fa-check"></i>Data Wrangling Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#example-us-births"><i class="fa fa-check"></i>Example: US Births</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#tidy-data-1"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#data-verbs"><i class="fa fa-check"></i>Data Verbs</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#piping"><i class="fa fa-check"></i>Piping</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#manipulating-dates"><i class="fa fa-check"></i>Manipulating Dates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#practice-part-1-baby-names"><i class="fa fa-check"></i>Practice Part 1: Baby Names</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#assignment-5-part-1-due-friday-feb-24-1159pm"><i class="fa fa-check"></i>Assignment 5 (Part 1): due Friday, Feb 24 @ 11:59pm</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#seasonality"><i class="fa fa-check"></i>Seasonality</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#day-of-the-week"><i class="fa fa-check"></i>Day of the Week</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#holidays"><i class="fa fa-check"></i>Holidays</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#geography"><i class="fa fa-check"></i>Geography</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#superstition"><i class="fa fa-check"></i>Superstition</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#appendix-r-functions-4"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#six-main-verbs-1"><i class="fa fa-check"></i>Six Main Verbs</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#logicalboolean-operators"><i class="fa fa-check"></i>Logical/Boolean Operators</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="reshaping-data.html"><a href="reshaping-data.html"><i class="fa fa-check"></i><b>8</b> Reshaping Data</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#learning-goals-7"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#wide-and-long-data-formats"><i class="fa fa-check"></i>Wide and Long Data Formats</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#wider"><i class="fa fa-check"></i>Wider</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#longer"><i class="fa fa-check"></i>Longer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#example-the-daily-show-guests"><i class="fa fa-check"></i>Example: The Daily Show Guests</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#assignment-5-part-2-due-friday-feb-24-1159pm"><i class="fa fa-check"></i>Assignment 5 (Part 2): due Friday, Feb 24 @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#appendix-r-functions-5"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#reshaping-functions"><i class="fa fa-check"></i>Reshaping Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html"><i class="fa fa-check"></i><b>9</b> Joining Two Data Frames</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#learning-goals-8"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#joins"><i class="fa fa-check"></i>Joins</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#establishing-a-match-between-cases"><i class="fa fa-check"></i>Establishing a match between cases</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#matching"><i class="fa fa-check"></i>Matching</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#mutating-joins"><i class="fa fa-check"></i>Mutating joins</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#filtering-joins"><i class="fa fa-check"></i>Filtering joins</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#assignment-6-part-1-due-friday-march-3rd-1159pm"><i class="fa fa-check"></i>Assignment 6 Part 1: due Friday, March 3rd @ 11:59pm</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#bicycle-use-patterns"><i class="fa fa-check"></i>Bicycle-Use Patterns</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#appendix-r-functions-6"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#mutating-joins-1"><i class="fa fa-check"></i>Mutating Joins</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#filtering-joins-1"><i class="fa fa-check"></i>Filtering Joins</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html"><i class="fa fa-check"></i><b>10</b> Categorical Variables as Factors</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#learning-goals-9"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#example-grade-distribution"><i class="fa fa-check"></i>Example: Grade Distribution</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#converting-to-factor"><i class="fa fa-check"></i>Converting to factor</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-order-of-levels"><i class="fa fa-check"></i>Changing the order of levels</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-value-of-levels"><i class="fa fa-check"></i>Changing the value of levels</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#assignment-6-part-2-due-friday-march-3rd-1159pm"><i class="fa fa-check"></i>Assignment 6 Part 2: due Friday, March 3rd @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#appendix-r-functions-7"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-order-of-levels-1"><i class="fa fa-check"></i>Changing the order of levels</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-value-of-levels-1"><i class="fa fa-check"></i>Changing the value of levels</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">COMP/STAT 112: Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="multivariate-visualizations" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Topic 5</span> Multivariate Visualizations<a href="multivariate-visualizations.html#multivariate-visualizations" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-goals-4" class="section level2 unnumbered hasAnchor">
<h2>Learning Goals<a href="multivariate-visualizations.html#learning-goals-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Understand how we can use additional aesthetics such as color and size to incorporate a third (or more variables) to a bivariate plot</li>
<li>Develop comfort with interpreting heat maps and star plots, which allow you to look for patterns in variation in many variables.</li>
</ul>
<p>You can download a template .Rmd of this activity <a href="template_rmd/05-Multivariate_Viz_Assign.Rmd">here</a>. Put this in a new folder called <code>Assignment_04</code> in your folder for <code>COMP_STAT_112</code>.</p>
</div>
<div id="adding-more-aesthetic-attributes" class="section level2 unnumbered hasAnchor">
<h2>Adding More Aesthetic Attributes<a href="multivariate-visualizations.html#adding-more-aesthetic-attributes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="exploring-sat-scores" class="section level3 unnumbered hasAnchor">
<h3>Exploring SAT Scores<a href="multivariate-visualizations.html#exploring-sat-scores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Though far from a perfect assessment of academic preparedness, SAT scores have historically been used as one measurement of a state’s education system. The <code>education</code> <a href="data/sat.csv">data</a> contain various education variables for each state:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="multivariate-visualizations.html#cb79-1" aria-hidden="true" tabindex="-1"></a>education <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://bcheggeseth.github.io/112_spring_2023/data/sat.csv&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-142">Table 5.1: </span>The first few rows of the SAT data.</caption>
<thead>
<tr class="header">
<th align="left">State</th>
<th align="right">expend</th>
<th align="right">ratio</th>
<th align="right">salary</th>
<th align="right">frac</th>
<th align="right">verbal</th>
<th align="right">math</th>
<th align="right">sat</th>
<th align="left">fracCat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Alabama</td>
<td align="right">4.405</td>
<td align="right">17.2</td>
<td align="right">31.144</td>
<td align="right">8</td>
<td align="right">491</td>
<td align="right">538</td>
<td align="right">1029</td>
<td align="left">(0,15]</td>
</tr>
<tr class="even">
<td align="left">Alaska</td>
<td align="right">8.963</td>
<td align="right">17.6</td>
<td align="right">47.951</td>
<td align="right">47</td>
<td align="right">445</td>
<td align="right">489</td>
<td align="right">934</td>
<td align="left">(45,100]</td>
</tr>
<tr class="odd">
<td align="left">Arizona</td>
<td align="right">4.778</td>
<td align="right">19.3</td>
<td align="right">32.175</td>
<td align="right">27</td>
<td align="right">448</td>
<td align="right">496</td>
<td align="right">944</td>
<td align="left">(15,45]</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="right">4.459</td>
<td align="right">17.1</td>
<td align="right">28.934</td>
<td align="right">6</td>
<td align="right">482</td>
<td align="right">523</td>
<td align="right">1005</td>
<td align="left">(0,15]</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="right">4.992</td>
<td align="right">24.0</td>
<td align="right">41.078</td>
<td align="right">45</td>
<td align="right">417</td>
<td align="right">485</td>
<td align="right">902</td>
<td align="left">(15,45]</td>
</tr>
<tr class="even">
<td align="left">Colorado</td>
<td align="right">5.443</td>
<td align="right">18.4</td>
<td align="right">34.571</td>
<td align="right">29</td>
<td align="right">462</td>
<td align="right">518</td>
<td align="right">980</td>
<td align="left">(15,45]</td>
</tr>
</tbody>
</table>
<p>A codebook is provided by Danny Kaplan who also made these data accessible:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-143"></span>
<img src="images/SATcodebook.png" alt="Codebook for SAT data. Source: Danny Kaplan" width="750px" />
<p class="caption">
Figure 5.1: Codebook for SAT data. Source: Danny Kaplan
</p>
</div>
<p>To examine the variability in average SAT scores from state to state, let’s start with a univariate density plot:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="multivariate-visualizations.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">x =</span> sat)) <span class="sc">+</span></span>
<span id="cb80-2"><a href="multivariate-visualizations.html#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb80-3"><a href="multivariate-visualizations.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-144-1.png" alt="Density plot of average SAT scores across U.S. states in mid-1990s. There are two groups of states, those with about 900 and those around 1050." width="576" /></p>
<p>The first question we’d like to answer is to what degree do per pupil spending (<code>expend</code>) and teacher <code>salary</code> <em>explain</em> this variability? We can start by plotting each against <code>sat</code>, along with a best fit linear regression model:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="multivariate-visualizations.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">y =</span> sat, <span class="at">x =</span> salary)) <span class="sc">+</span></span>
<span id="cb81-2"><a href="multivariate-visualizations.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb81-3"><a href="multivariate-visualizations.html#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="sc">+</span> </span>
<span id="cb81-4"><a href="multivariate-visualizations.html#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb81-5"><a href="multivariate-visualizations.html#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="multivariate-visualizations.html#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">y =</span> sat, <span class="at">x =</span> expend)) <span class="sc">+</span></span>
<span id="cb81-7"><a href="multivariate-visualizations.html#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb81-8"><a href="multivariate-visualizations.html#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="sc">+</span> </span>
<span id="cb81-9"><a href="multivariate-visualizations.html#cb81-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-145-1.png" alt="Scatter plot of average SAT scores against teacher salary across U.S. states in mid-1990s. There is a weak negative relationship." width="288" /><img src="stat112_manual_files/figure-html/unnamed-chunk-145-2.png" alt="Scatter plot of average SAT scores against education expenditure across U.S. states in mid-1990s. There is a weak negative relationship." width="288" /></p>
<div class="example">
<p><span id="exm:unnamed-chunk-146" class="example"><strong>Example 5.1  </strong></span>Is there anything that surprises you in the above plots? What are the relationship trends?</p>
</div>
<details>
<summary>
Solution
</summary>
<p>These seem to suggest that spending more money on students or teacher salaries correlates with lower SAT scores. Say it ain’t so!</p>
</details>
<p><br />
</p>
<div class="example">
<p><span id="exm:unnamed-chunk-147" class="example"><strong>Example 5.2  </strong></span>Make a single scatterplot visualization that demonstrates the relationship between <code>sat</code>, <code>salary</code>, and <code>expend</code>. Summarize the trivariate relationship between <code>sat</code>, <code>salary</code>, and <code>expend</code>.</p>
</div>
<p><em>Hints: 1. Try using the color or size aesthetics to incorporate the expenditure data. 2. Include some model smooths with <code>geom_smooth()</code> to help highlight the trends.</em></p>
<details>
<summary>
Solution
</summary>
<p>Below are four different plots that one could make. There seems to be a high correlation between <code>expend</code> and <code>salary</code>, and both seem to be negatively correlated with <code>sat</code>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="multivariate-visualizations.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">#plot 1</span></span>
<span id="cb82-2"><a href="multivariate-visualizations.html#cb82-2" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">y=</span>sat, <span class="at">x=</span>salary, <span class="at">color=</span>expend)) <span class="sc">+</span> </span>
<span id="cb82-3"><a href="multivariate-visualizations.html#cb82-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb82-4"><a href="multivariate-visualizations.html#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">method=</span><span class="st">&quot;lm&quot;</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>()</span>
<span id="cb82-5"><a href="multivariate-visualizations.html#cb82-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb82-6"><a href="multivariate-visualizations.html#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="co">#plot 2</span></span>
<span id="cb82-7"><a href="multivariate-visualizations.html#cb82-7" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">y=</span>sat, <span class="at">x=</span>salary, <span class="at">size=</span>expend)) <span class="sc">+</span> </span>
<span id="cb82-8"><a href="multivariate-visualizations.html#cb82-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb82-9"><a href="multivariate-visualizations.html#cb82-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">method=</span><span class="st">&quot;lm&quot;</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>()</span>
<span id="cb82-10"><a href="multivariate-visualizations.html#cb82-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-11"><a href="multivariate-visualizations.html#cb82-11" aria-hidden="true" tabindex="-1"></a><span class="co">#plot 3</span></span>
<span id="cb82-12"><a href="multivariate-visualizations.html#cb82-12" aria-hidden="true" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">y=</span>sat, <span class="at">x=</span>salary, <span class="at">color=</span><span class="fu">cut</span>(expend,<span class="dv">2</span>))) <span class="sc">+</span> </span>
<span id="cb82-13"><a href="multivariate-visualizations.html#cb82-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb82-14"><a href="multivariate-visualizations.html#cb82-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">method=</span><span class="st">&quot;lm&quot;</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>()</span>
<span id="cb82-15"><a href="multivariate-visualizations.html#cb82-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-16"><a href="multivariate-visualizations.html#cb82-16" aria-hidden="true" tabindex="-1"></a><span class="co">#plot 4</span></span>
<span id="cb82-17"><a href="multivariate-visualizations.html#cb82-17" aria-hidden="true" tabindex="-1"></a>g4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">y=</span>sat, <span class="at">x=</span>salary, <span class="at">color=</span><span class="fu">cut</span>(expend,<span class="dv">3</span>))) <span class="sc">+</span> </span>
<span id="cb82-18"><a href="multivariate-visualizations.html#cb82-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb82-19"><a href="multivariate-visualizations.html#cb82-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">method=</span><span class="st">&quot;lm&quot;</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>()</span>
<span id="cb82-20"><a href="multivariate-visualizations.html#cb82-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-21"><a href="multivariate-visualizations.html#cb82-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb82-22"><a href="multivariate-visualizations.html#cb82-22" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(g1, g2, g3, g4, <span class="at">ncol=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Warning: The following aesthetics were dropped during statistical
## transformation: colour
## ℹ This can happen when ggplot fails to infer the correct
##   grouping structure in the data.
## ℹ Did you forget to specify a `group` aesthetic or to
##   convert a numerical variable into a factor?</code></pre>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in
## ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.</code></pre>
<pre><code>## Warning: The following aesthetics were dropped during statistical
## transformation: size
## ℹ This can happen when ggplot fails to infer the correct
##   grouping structure in the data.
## ℹ Did you forget to specify a `group` aesthetic or to
##   convert a numerical variable into a factor?</code></pre>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-148-1.png" alt="Four scatterplots of average SAT scores against teacher salary by expenditure across U.S. states in mid-1990s. There seems to be a high correlation between expenditure and salary, and both seem to be negatively correlated with SAT scores." width="768" /></p>
</details>
<p><br />
</p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-149" class="exercise"><strong>Exercise 5.1  </strong></span>The <code>fracCat</code> variable in the <code>education</code> data categorizes the fraction of the state’s students that take the SAT into <code>low</code> (below 15%), <code>medium</code> (15-45%), and <code>high</code> (at least 45%).</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Make a univariate visualization of the <code>fracCat</code> variable to better understand how many states fall into each category.<br />
</li>
<li>Make a bivariate visualization that demonstrates the relationship between <code>fracCat</code> and <code>sat</code>. What story does your graphic tell?</li>
<li>Make a trivariate visualization that demonstrates the relationship between <code>fracCat</code>, <code>sat</code>, and <code>expend</code>. Incorporate <code>fracCat</code> as the color of each point, and use a single call to <code>geom_smooth</code> to add three trendlines (one for each <code>fracCat</code>). What story does your graphic tell?<br />
</li>
<li>Putting all of this together, explain this example of <strong>Simpson’s Paradox</strong>. That is, why does it appear that SAT scores decrease as spending increases even though the opposite is true?</li>
</ol>
</div>
</div>
<div id="other-multivariate-visualization-techniques" class="section level2 unnumbered hasAnchor">
<h2>Other Multivariate Visualization Techniques<a href="multivariate-visualizations.html#other-multivariate-visualization-techniques" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="heat-maps" class="section level3 unnumbered hasAnchor">
<h3>Heat maps<a href="multivariate-visualizations.html#heat-maps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Note that each variable (column) is scaled to indicate states (rows) with high values (yellow) to low values (purple/blue). With this in mind you can scan across rows &amp; across columns to visually assess which states &amp; variables are related, respectively. You can also play with the color scheme. Type <code>?cm.colors</code> in the console to see various options.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="multivariate-visualizations.html#cb86-1" aria-hidden="true" tabindex="-1"></a>ed <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(education) <span class="co"># convert from tibble to data frame</span></span>
<span id="cb86-2"><a href="multivariate-visualizations.html#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="multivariate-visualizations.html#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="co"># convert to a matrix with State names as the row names</span></span>
<span id="cb86-4"><a href="multivariate-visualizations.html#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(ed) <span class="ot">&lt;-</span> ed<span class="sc">$</span>State  <span class="co">#added state names as the row names rather than a variable</span></span>
<span id="cb86-5"><a href="multivariate-visualizations.html#cb86-5" aria-hidden="true" tabindex="-1"></a>ed <span class="ot">&lt;-</span> ed <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>) <span class="co">#select the 2nd through 8th columns</span></span>
<span id="cb86-6"><a href="multivariate-visualizations.html#cb86-6" aria-hidden="true" tabindex="-1"></a>ed_mat <span class="ot">&lt;-</span> <span class="fu">data.matrix</span>(ed) <span class="co">#convert to a matrix format</span></span>
<span id="cb86-7"><a href="multivariate-visualizations.html#cb86-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-8"><a href="multivariate-visualizations.html#cb86-8" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmap.2</span>(ed_mat,</span>
<span id="cb86-9"><a href="multivariate-visualizations.html#cb86-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rowv =</span> <span class="cn">NA</span>, <span class="at">Colv =</span> <span class="cn">NA</span>, <span class="at">scale =</span> <span class="st">&quot;column&quot;</span>,</span>
<span id="cb86-10"><a href="multivariate-visualizations.html#cb86-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">keysize =</span> <span class="fl">0.7</span>, <span class="at">density.info =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb86-11"><a href="multivariate-visualizations.html#cb86-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="fu">hcl.colors</span>(<span class="dv">256</span>), <span class="at">margins =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>),</span>
<span id="cb86-12"><a href="multivariate-visualizations.html#cb86-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsep =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>), <span class="at">rowsep =</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>), <span class="at">sepwidth =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>),</span>
<span id="cb86-13"><a href="multivariate-visualizations.html#cb86-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">sepcolor =</span> <span class="st">&quot;white&quot;</span>, <span class="at">cexRow =</span> <span class="dv">2</span>, <span class="at">cexCol =</span> <span class="dv">2</span>, <span class="at">trace =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb86-14"><a href="multivariate-visualizations.html#cb86-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">dendrogram =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb86-15"><a href="multivariate-visualizations.html#cb86-15" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-150-1.png" width="960" /></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-151" class="exercise"><strong>Exercise 5.2  </strong></span>What do you notice? What insight do you gain about the variation across U.S. states?</p>
</div>
<p><strong>Heat map with row clusters</strong></p>
<p>It can be tough to identify interesting patterns by visually comparing across rows and columns. Including <em>dendrograms</em> helps to identify interesting clusters.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="multivariate-visualizations.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmap.2</span>(ed_mat,</span>
<span id="cb87-2"><a href="multivariate-visualizations.html#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rowv =</span> <span class="cn">TRUE</span>, <span class="co">#this argument changed</span></span>
<span id="cb87-3"><a href="multivariate-visualizations.html#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Colv =</span> <span class="cn">NA</span>, <span class="at">scale =</span> <span class="st">&quot;column&quot;</span>, <span class="at">keysize =</span> .<span class="dv">7</span>,</span>
<span id="cb87-4"><a href="multivariate-visualizations.html#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">density.info =</span> <span class="st">&quot;none&quot;</span>, <span class="at">col =</span> <span class="fu">hcl.colors</span>(<span class="dv">256</span>),</span>
<span id="cb87-5"><a href="multivariate-visualizations.html#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">margins =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>),</span>
<span id="cb87-6"><a href="multivariate-visualizations.html#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsep =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>), <span class="at">rowsep =</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>), <span class="at">sepwidth =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>),</span>
<span id="cb87-7"><a href="multivariate-visualizations.html#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sepcolor =</span> <span class="st">&quot;white&quot;</span>, <span class="at">cexRow =</span> <span class="dv">2</span>, <span class="at">cexCol =</span> <span class="dv">2</span>, <span class="at">trace =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb87-8"><a href="multivariate-visualizations.html#cb87-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">dendrogram =</span> <span class="st">&quot;row&quot;</span> <span class="co">#this argument changed</span></span>
<span id="cb87-9"><a href="multivariate-visualizations.html#cb87-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-152-1.png" width="960" /></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-153" class="exercise"><strong>Exercise 5.3  </strong></span>What new insight do you gain about the variation across U.S. states, now that states are grouped and ordered by similarity?</p>
</div>
<p><strong>Heat map with column clusters</strong></p>
<p>We can also construct a heat map which identifies interesting clusters of columns (variables).</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="multivariate-visualizations.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmap.2</span>(ed_mat,</span>
<span id="cb88-2"><a href="multivariate-visualizations.html#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Colv =</span> <span class="cn">TRUE</span>, <span class="co">#this argument changed</span></span>
<span id="cb88-3"><a href="multivariate-visualizations.html#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rowv =</span> <span class="cn">NA</span>, <span class="at">scale =</span> <span class="st">&quot;column&quot;</span>, <span class="at">keysize =</span> .<span class="dv">7</span>,</span>
<span id="cb88-4"><a href="multivariate-visualizations.html#cb88-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">density.info =</span> <span class="st">&quot;none&quot;</span>, <span class="at">col =</span> <span class="fu">hcl.colors</span>(<span class="dv">256</span>),</span>
<span id="cb88-5"><a href="multivariate-visualizations.html#cb88-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">margins =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>),</span>
<span id="cb88-6"><a href="multivariate-visualizations.html#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsep =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>), <span class="at">rowsep =</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>), <span class="at">sepwidth =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>),</span>
<span id="cb88-7"><a href="multivariate-visualizations.html#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sepcolor =</span> <span class="st">&quot;white&quot;</span>, <span class="at">cexRow =</span> <span class="dv">2</span>, <span class="at">cexCol =</span> <span class="dv">2</span>, <span class="at">trace =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb88-8"><a href="multivariate-visualizations.html#cb88-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">dendrogram =</span> <span class="st">&quot;column&quot;</span> <span class="co">#this argument changed</span></span>
<span id="cb88-9"><a href="multivariate-visualizations.html#cb88-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-154-1.png" width="960" /></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-155" class="exercise"><strong>Exercise 5.4  </strong></span>What new insight do you gain about the variation across U.S. states, now that variables are grouped and ordered by similarity?</p>
</div>
</div>
<div id="star-plots" class="section level3 unnumbered hasAnchor">
<h3>Star plots<a href="multivariate-visualizations.html#star-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There’s more than one way to visualize multivariate patterns. Like heat maps, these star plot visualizations indicate the relative scale of each variable for each state. With this in mind, you can use the star maps to identify which state is the most “unusual.” You can also do a quick scan of the second image to try to cluster states. How does that clustering compare to the one generated in the heat map with row clusters above?</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="multivariate-visualizations.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stars</span>(ed_mat,</span>
<span id="cb89-2"><a href="multivariate-visualizations.html#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">flip.labels =</span> <span class="cn">FALSE</span>,</span>
<span id="cb89-3"><a href="multivariate-visualizations.html#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">locations =</span> <span class="fu">data.matrix</span>(<span class="fu">as.data.frame</span>(state.center)), <span class="co">#added external data to arrange by geo location</span></span>
<span id="cb89-4"><a href="multivariate-visualizations.html#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">key.loc =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="fl">1.5</span>), <span class="at">cex =</span> <span class="dv">1</span></span>
<span id="cb89-5"><a href="multivariate-visualizations.html#cb89-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-156-1.png" alt="Star plot of SAT data geographically arranged. Education policy / finances and SAT scores differs by geographical region in the U.S." width="1440" /></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="multivariate-visualizations.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stars</span>(ed_mat,</span>
<span id="cb90-2"><a href="multivariate-visualizations.html#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">flip.labels =</span> <span class="cn">FALSE</span>,</span>
<span id="cb90-3"><a href="multivariate-visualizations.html#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">locations =</span> <span class="fu">data.matrix</span>(<span class="fu">as.data.frame</span>(state.center)), <span class="co">#added external data to arrange by geo location</span></span>
<span id="cb90-4"><a href="multivariate-visualizations.html#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">key.loc =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="fl">1.5</span>), <span class="at">cex =</span> <span class="dv">1</span>, </span>
<span id="cb90-5"><a href="multivariate-visualizations.html#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">draw.segments =</span> <span class="cn">TRUE</span> <span class="co">#changed argument</span></span>
<span id="cb90-6"><a href="multivariate-visualizations.html#cb90-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-156-2.png" alt="Star plot of SAT data geographically arranged. Education policy / finances and SAT scores differs by geographical region in the U.S." width="1440" /></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-157" class="exercise"><strong>Exercise 5.5  </strong></span>What new insight do you gain about the variation across U.S. states with the star plots (arranged geographically) as compared to heat plots?</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bivariate-visualizations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="spatial-visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
