<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 4 Multivariate Visualizations | COMP/STAT 112: Introduction to Data Science</title>
  <meta name="description" content="This is the class website for Introduction to Data Science at Macalester College for Fall 2022." />
  <meta name="generator" content="bookdown 0.27.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 4 Multivariate Visualizations | COMP/STAT 112: Introduction to Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/logo.png" />
  <meta property="og:description" content="This is the class website for Introduction to Data Science at Macalester College for Fall 2022." />
  <meta name="github-repo" content="bcheggeseth/112_fall_2022/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 4 Multivariate Visualizations | COMP/STAT 112: Introduction to Data Science" />
  
  <meta name="twitter:description" content="This is the class website for Introduction to Data Science at Macalester College for Fall 2022." />
  <meta name="twitter:image" content="/images/logo.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="effective-visualizations-and-bivariate-visualizations.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="custom_styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href = "./">COMP/STAT 112: Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html"><i class="fa fa-check"></i>Course Schedule</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html"><i class="fa fa-check"></i>Learning Goals</a>
<ul>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#general-skills"><i class="fa fa-check"></i>General Skills</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#course-topics"><i class="fa fa-check"></i>Course Topics</a>
<ul>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#foundation"><i class="fa fa-check"></i>Foundation</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#data-acquisition"><i class="fa fa-check"></i>Data Acquisition</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#data-wrangling"><i class="fa fa-check"></i>Data Wrangling</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#data-visualization"><i class="fa fa-check"></i>Data Visualization</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#data-modeling"><i class="fa fa-check"></i>Data Modeling</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#project-presentations-communication"><i class="fa fa-check"></i>Project Presentations &amp; Communication</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Foundation</b></span></li>
<li class="chapter" data-level="1" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html"><i class="fa fa-check"></i><b>1</b> Intro to R, RStudio, and R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#learning-goals-1"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#getting-started-in-rstudio"><i class="fa fa-check"></i>Getting Started in RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#download-r-rstudio"><i class="fa fa-check"></i>Download R &amp; RStudio</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#a-quick-tour-of-rstudio"><i class="fa fa-check"></i>A quick tour of RStudio</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#tidy-data"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#data-basics-in-rstudio"><i class="fa fa-check"></i>Data Basics in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#r-markdown-and-reproducible-research"><i class="fa fa-check"></i>R Markdown and Reproducible Research</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#practice"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
<li class="part"><span><b>II Visualization</b></span></li>
<li class="chapter" data-level="2" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html"><i class="fa fa-check"></i><b>2</b> Intro to Data Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#learning-goals-2"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#benefits-of-visualizations"><i class="fa fa-check"></i>Benefits of Visualizations</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#glyphs"><i class="fa fa-check"></i>Glyphs</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#data-glyph"><i class="fa fa-check"></i>Data Glyph</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#components-of-graphics"><i class="fa fa-check"></i>Components of Graphics</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#eye-training-for-the-layered-grammar-of-graphics"><i class="fa fa-check"></i>Eye Training for the Layered Grammar of Graphics</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#glyph-ready-data"><i class="fa fa-check"></i>Glyph-Ready Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#data-visualization-workflow-ggplot"><i class="fa fa-check"></i>Data Visualization Workflow + <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#layers-building-up-complex-plots"><i class="fa fa-check"></i>Layers – Building up Complex Plots</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#an-example"><i class="fa fa-check"></i>An Example</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#categorical-univariate-visualization"><i class="fa fa-check"></i>Categorical univariate visualization</a></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#quantitative-univariate-visualization"><i class="fa fa-check"></i>Quantitative univariate visualization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-data-visualization.html"><a href="intro-to-data-visualization.html#additional-exercises"><i class="fa fa-check"></i>Additional exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html"><i class="fa fa-check"></i><b>3</b> Effective Visualizations and Bivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#learning-goals-3"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#effective-visualizations"><i class="fa fa-check"></i>Effective Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#benefits-of-visualizations-1"><i class="fa fa-check"></i>Benefits of Visualizations</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#analysis-of-graphics"><i class="fa fa-check"></i>Analysis of Graphics</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#properties-of-effective-visualizations"><i class="fa fa-check"></i>Properties of Effective Visualizations</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#basic-rules-for-constructing-graphics"><i class="fa fa-check"></i>Basic Rules for Constructing Graphics</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#still-to-come"><i class="fa fa-check"></i>Still to Come</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#bivariate-visualizations"><i class="fa fa-check"></i>Bivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#getting-to-know-the-dataset"><i class="fa fa-check"></i>Getting to know the dataset</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#background-on-visualizing-relationships"><i class="fa fa-check"></i>Background on visualizing relationships</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#visualizing-quantitiative-vs-quantitative-relationships"><i class="fa fa-check"></i>Visualizing quantitiative vs quantitative relationships</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#visualizing-quantitative-vs.-categorical-relationships"><i class="fa fa-check"></i>Visualizing quantitative vs. categorical relationships</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#visualizing-categorical-vs-categorical-relationships"><i class="fa fa-check"></i>Visualizing categorical vs categorical relationships</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations-and-bivariate-visualizations.html"><a href="effective-visualizations-and-bivariate-visualizations.html#practice-1"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html"><i class="fa fa-check"></i><b>4</b> Multivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#learning-goals-4"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#adding-more-aesthetic-attributes"><i class="fa fa-check"></i>Adding More Aesthetic Attributes</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#exploring-sat-scores"><i class="fa fa-check"></i>Exploring SAT Scores</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#other-multivariate-visualization-techniques"><i class="fa fa-check"></i>Other Multivariate Visualization Techniques</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#heat-maps"><i class="fa fa-check"></i>Heat maps</a></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#star-plots"><i class="fa fa-check"></i>Star plots</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">COMP/STAT 112: Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="multivariate-visualizations" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Topic 4</span> Multivariate Visualizations<a href="multivariate-visualizations.html#multivariate-visualizations" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-goals-4" class="section level2 unnumbered hasAnchor">
<h2>Learning Goals<a href="multivariate-visualizations.html#learning-goals-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Understand how we can use additional aesthetics such as color and size to incorporate a third (or more variables) to a bivariate plot</li>
<li>Develop comfort with interpreting heat maps and star plots, which allow you to look for patterns in variation in many variables.</li>
</ul>
<p>You can download a template .Rmd of this activity <a href="template_rmd/04-Multivariate_Viz.Rmd">here</a>.</p>
</div>
<div id="adding-more-aesthetic-attributes" class="section level2 unnumbered hasAnchor">
<h2>Adding More Aesthetic Attributes<a href="multivariate-visualizations.html#adding-more-aesthetic-attributes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="exploring-sat-scores" class="section level3 unnumbered hasAnchor">
<h3>Exploring SAT Scores<a href="multivariate-visualizations.html#exploring-sat-scores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Though far from a perfect assessment of academic preparedness, SAT scores have historically been used as one measurement of a state’s education system. The <code>education</code> data stored at <a href="https://www.macalester.edu/~ajohns24/data/sat.csv">https://www.macalester.edu/~ajohns24/data/sat.csv</a> contain various education variables for each state:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="multivariate-visualizations.html#cb69-1" aria-hidden="true" tabindex="-1"></a>education <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://www.macalester.edu/~ajohns24/data/sat.csv&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-139">Table 4.1: </span>The first few rows of the SAT data.</caption>
<thead>
<tr class="header">
<th align="left">State</th>
<th align="right">expend</th>
<th align="right">ratio</th>
<th align="right">salary</th>
<th align="right">frac</th>
<th align="right">verbal</th>
<th align="right">math</th>
<th align="right">sat</th>
<th align="left">fracCat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Alabama</td>
<td align="right">4.405</td>
<td align="right">17.2</td>
<td align="right">31.144</td>
<td align="right">8</td>
<td align="right">491</td>
<td align="right">538</td>
<td align="right">1029</td>
<td align="left">(0,15]</td>
</tr>
<tr class="even">
<td align="left">Alaska</td>
<td align="right">8.963</td>
<td align="right">17.6</td>
<td align="right">47.951</td>
<td align="right">47</td>
<td align="right">445</td>
<td align="right">489</td>
<td align="right">934</td>
<td align="left">(45,100]</td>
</tr>
<tr class="odd">
<td align="left">Arizona</td>
<td align="right">4.778</td>
<td align="right">19.3</td>
<td align="right">32.175</td>
<td align="right">27</td>
<td align="right">448</td>
<td align="right">496</td>
<td align="right">944</td>
<td align="left">(15,45]</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="right">4.459</td>
<td align="right">17.1</td>
<td align="right">28.934</td>
<td align="right">6</td>
<td align="right">482</td>
<td align="right">523</td>
<td align="right">1005</td>
<td align="left">(0,15]</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="right">4.992</td>
<td align="right">24.0</td>
<td align="right">41.078</td>
<td align="right">45</td>
<td align="right">417</td>
<td align="right">485</td>
<td align="right">902</td>
<td align="left">(15,45]</td>
</tr>
<tr class="even">
<td align="left">Colorado</td>
<td align="right">5.443</td>
<td align="right">18.4</td>
<td align="right">34.571</td>
<td align="right">29</td>
<td align="right">462</td>
<td align="right">518</td>
<td align="right">980</td>
<td align="left">(15,45]</td>
</tr>
</tbody>
</table>
<p>A codebook is provided by Danny Kaplan who also made these data accessible:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-140"></span>
<img src="images/SATcodebook.png" alt="Codebook for SAT data. Source: https://www.macalester.edu/~kaplan/ISM/datasets/data-documentation.pdf" width="750px" />
<p class="caption">
Figure 4.1: Codebook for SAT data. Source: <a href="https://www.macalester.edu/~kaplan/ISM/datasets/data-documentation.pdf" class="uri">https://www.macalester.edu/~kaplan/ISM/datasets/data-documentation.pdf</a>
</p>
</div>
<p>To examine the variability in average SAT scores from state to state, let’s start with a univariate density plot:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="multivariate-visualizations.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">x =</span> sat)) <span class="sc">+</span></span>
<span id="cb70-2"><a href="multivariate-visualizations.html#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">alpha =</span> .<span class="dv">5</span>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-141-1.png" width="576" /></p>
<p>The first question we’d like to answer is to what degree do per pupil spending (<code>expend</code>) and teacher <code>salary</code> <em>explain</em> this variability? We can start by plotting each against <code>sat</code>, along with a best fit linear regression model:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="multivariate-visualizations.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">y =</span> sat, <span class="at">x =</span> salary)) <span class="sc">+</span></span>
<span id="cb71-2"><a href="multivariate-visualizations.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb71-3"><a href="multivariate-visualizations.html#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span>
<span id="cb71-4"><a href="multivariate-visualizations.html#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="multivariate-visualizations.html#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(education, <span class="fu">aes</span>(<span class="at">y =</span> sat, <span class="at">x =</span> expend)) <span class="sc">+</span></span>
<span id="cb71-6"><a href="multivariate-visualizations.html#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb71-7"><a href="multivariate-visualizations.html#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-142-1.png" width="288" /><img src="stat112_manual_files/figure-html/unnamed-chunk-142-2.png" width="288" /></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-143" class="exercise"><strong>Exercise 4.1  </strong></span>Is there anything that surprises you in the above plots? What are the relationship trends?</p>
</div>
<div class="exercise">
<p><span id="exr:unnamed-chunk-144" class="exercise"><strong>Exercise 4.2  </strong></span>Make a single scatterplot visualization that demonstrates the relationship between <code>sat</code>, <code>salary</code>, and <code>expend</code>. Summarize the trivariate relationship between <code>sat</code>, <code>salary</code>, and <code>expend</code>.</p>
</div>
<p><em>Hints: 1. Try using the color or size aesthetics to incorporate the expenditure data. 2. Include some model smooths with <code>geom_smooth()</code> to help highlight the trends.</em></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-145" class="exercise"><strong>Exercise 4.3  </strong></span>The <code>fracCat</code> variable in the <code>education</code> data categorizes the fraction of the state’s students that take the SAT into <code>low</code> (below 15%), <code>medium</code> (15-45%), and <code>high</code> (at least 45%).</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Make a univariate visualization of the <code>fracCat</code> variable to better understand how many states fall into each category.<br />
</li>
<li>Make a bivariate visualization that demonstrates the relationship between <code>fracCat</code> and <code>sat</code>. What story does your graphic tell?</li>
<li>Make a trivariate visualization that demonstrates the relationship between <code>fracCat</code>, <code>sat</code>, and <code>expend</code>. Incorporate <code>fracCat</code> as the color of each point, and use a single call to <code>geom_smooth</code> to add three trendlines (one for each <code>fracCat</code>). What story does your graphic tell?<br />
</li>
<li>Putting all of this together, explain this example of <strong>Simpson’s Paradox</strong>. That is, why does it appear that SAT scores decrease as spending increases even though the opposite is true?</li>
</ol>
</div>
</div>
<div id="other-multivariate-visualization-techniques" class="section level2 unnumbered hasAnchor">
<h2>Other Multivariate Visualization Techniques<a href="multivariate-visualizations.html#other-multivariate-visualization-techniques" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="heat-maps" class="section level3 unnumbered hasAnchor">
<h3>Heat maps<a href="multivariate-visualizations.html#heat-maps" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Note that each variable (column) is scaled to indicate states (rows) with high values (yellow) to low values (purple/blue). With this in mind you can scan across rows &amp; across columns to visually assess which states &amp; variables are related, respectively. You can also play with the color scheme. Type <code>?cm.colors</code> in the console to see various options.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="multivariate-visualizations.html#cb72-1" aria-hidden="true" tabindex="-1"></a>ed <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(education) <span class="co"># convert from tibble to data frame</span></span>
<span id="cb72-2"><a href="multivariate-visualizations.html#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="multivariate-visualizations.html#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co"># convert to a matrix with State names as the row names</span></span>
<span id="cb72-4"><a href="multivariate-visualizations.html#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(ed) <span class="ot">&lt;-</span> ed<span class="sc">$</span>State </span>
<span id="cb72-5"><a href="multivariate-visualizations.html#cb72-5" aria-hidden="true" tabindex="-1"></a>ed <span class="ot">&lt;-</span> ed[, <span class="dv">2</span><span class="sc">:</span><span class="dv">8</span>]</span>
<span id="cb72-6"><a href="multivariate-visualizations.html#cb72-6" aria-hidden="true" tabindex="-1"></a>ed_mat <span class="ot">&lt;-</span> <span class="fu">data.matrix</span>(ed)</span>
<span id="cb72-7"><a href="multivariate-visualizations.html#cb72-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-8"><a href="multivariate-visualizations.html#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmap.2</span>(ed_mat,</span>
<span id="cb72-9"><a href="multivariate-visualizations.html#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rowv =</span> <span class="cn">NA</span>, <span class="at">Colv =</span> <span class="cn">NA</span>, <span class="at">scale =</span> <span class="st">&quot;column&quot;</span>,</span>
<span id="cb72-10"><a href="multivariate-visualizations.html#cb72-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">keysize =</span> <span class="fl">0.7</span>, <span class="at">density.info =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb72-11"><a href="multivariate-visualizations.html#cb72-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="fu">hcl.colors</span>(<span class="dv">256</span>), <span class="at">margins =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>),</span>
<span id="cb72-12"><a href="multivariate-visualizations.html#cb72-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsep =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>), <span class="at">rowsep =</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>), <span class="at">sepwidth =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>),</span>
<span id="cb72-13"><a href="multivariate-visualizations.html#cb72-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">sepcolor =</span> <span class="st">&quot;white&quot;</span>, <span class="at">cexRow =</span> <span class="dv">2</span>, <span class="at">cexCol =</span> <span class="dv">2</span>, <span class="at">trace =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb72-14"><a href="multivariate-visualizations.html#cb72-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">dendrogram =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb72-15"><a href="multivariate-visualizations.html#cb72-15" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-146-1.png" width="960" /></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-147" class="exercise"><strong>Exercise 4.4  </strong></span>What do you notice? What insight do you gain about the variation across U.S. states?</p>
</div>
<p><strong>Heat map with row clusters</strong></p>
<p>It can be tough to identify interesting patterns by visually comparing across rows and columns. Including <em>dendrograms</em> helps to identify interesting clusters.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="multivariate-visualizations.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmap.2</span>(ed_mat,</span>
<span id="cb73-2"><a href="multivariate-visualizations.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Colv =</span> <span class="cn">NA</span>, <span class="at">scale =</span> <span class="st">&quot;column&quot;</span>, <span class="at">keysize =</span> .<span class="dv">7</span>,</span>
<span id="cb73-3"><a href="multivariate-visualizations.html#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">density.info =</span> <span class="st">&quot;none&quot;</span>, <span class="at">col =</span> <span class="fu">hcl.colors</span>(<span class="dv">256</span>),</span>
<span id="cb73-4"><a href="multivariate-visualizations.html#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">margins =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>),</span>
<span id="cb73-5"><a href="multivariate-visualizations.html#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsep =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>), <span class="at">rowsep =</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>), <span class="at">sepwidth =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>),</span>
<span id="cb73-6"><a href="multivariate-visualizations.html#cb73-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">sepcolor =</span> <span class="st">&quot;white&quot;</span>, <span class="at">cexRow =</span> <span class="dv">2</span>, <span class="at">cexCol =</span> <span class="dv">2</span>, <span class="at">trace =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb73-7"><a href="multivariate-visualizations.html#cb73-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">dendrogram =</span> <span class="st">&quot;row&quot;</span></span>
<span id="cb73-8"><a href="multivariate-visualizations.html#cb73-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-148-1.png" width="960" />
::: {.exercise #unnamed-chunk-149}
What do you notice? What new insight do you gain about the variation across U.S. states, now that states are grouped and ordered to represent similarity?
:::</p>
<p><strong>Heat map with column clusters</strong></p>
<p>We can also construct a heat map which identifies interesting clusters of columns (variables).</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="multivariate-visualizations.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmap.2</span>(ed_mat,</span>
<span id="cb74-2"><a href="multivariate-visualizations.html#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rowv =</span> <span class="cn">NA</span>, <span class="at">scale =</span> <span class="st">&quot;column&quot;</span>, <span class="at">keysize =</span> .<span class="dv">7</span>,</span>
<span id="cb74-3"><a href="multivariate-visualizations.html#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">density.info =</span> <span class="st">&quot;none&quot;</span>, <span class="at">col =</span> <span class="fu">hcl.colors</span>(<span class="dv">256</span>),</span>
<span id="cb74-4"><a href="multivariate-visualizations.html#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">margins =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>),</span>
<span id="cb74-5"><a href="multivariate-visualizations.html#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">colsep =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>), <span class="at">rowsep =</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>), <span class="at">sepwidth =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>),</span>
<span id="cb74-6"><a href="multivariate-visualizations.html#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">sepcolor =</span> <span class="st">&quot;white&quot;</span>, <span class="at">cexRow =</span> <span class="dv">2</span>, <span class="at">cexCol =</span> <span class="dv">2</span>, <span class="at">trace =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb74-7"><a href="multivariate-visualizations.html#cb74-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">dendrogram =</span> <span class="st">&quot;column&quot;</span></span>
<span id="cb74-8"><a href="multivariate-visualizations.html#cb74-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-150-1.png" width="960" /></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-151" class="exercise"><strong>Exercise 4.5  </strong></span>What do you notice? What new insight do you gain about the variation across U.S. states, now that variables are grouped and ordered to represent similarity?</p>
</div>
</div>
<div id="star-plots" class="section level3 unnumbered hasAnchor">
<h3>Star plots<a href="multivariate-visualizations.html#star-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There’s more than one way to visualize multivariate patterns. Like heat maps, these star plot visualizations indicate the relative scale of each variable for each state. With this in mind, you can use the star maps to identify which state is the most “unusual.” You can also do a quick scan of the second image to try to cluster states. How does that clustering compare to the one generated in the heat map with row clusters above?</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="multivariate-visualizations.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stars</span>(ed_mat,</span>
<span id="cb75-2"><a href="multivariate-visualizations.html#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">flip.labels =</span> <span class="cn">FALSE</span>,</span>
<span id="cb75-3"><a href="multivariate-visualizations.html#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">key.loc =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="fl">1.5</span>), <span class="at">cex =</span> <span class="fl">1.5</span></span>
<span id="cb75-4"><a href="multivariate-visualizations.html#cb75-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-152-1.png" width="1440" /></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="multivariate-visualizations.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stars</span>(ed_mat,</span>
<span id="cb76-2"><a href="multivariate-visualizations.html#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">flip.labels =</span> <span class="cn">FALSE</span>,</span>
<span id="cb76-3"><a href="multivariate-visualizations.html#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">key.loc =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="fl">1.5</span>), <span class="at">cex =</span> <span class="fl">1.5</span>, <span class="at">draw.segments =</span> <span class="cn">TRUE</span></span>
<span id="cb76-4"><a href="multivariate-visualizations.html#cb76-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-152-2.png" width="1440" /></p>
<div class="exercise">
<p><span id="exr:unnamed-chunk-153" class="exercise"><strong>Exercise 4.6  </strong></span>What do you notice? What new insight do you gain about the variation across U.S. states with the star plots?</p>
</div>

</div>
</div>
</div>








            </section>

          </div>
        </div>
      </div>
<a href="effective-visualizations-and-bivariate-visualizations.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
