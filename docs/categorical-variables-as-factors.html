<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 8 Categorical Variables as Factors | COMP/STAT 112: Introduction to Data Science</title>
  <meta name="description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 8 Categorical Variables as Factors | COMP/STAT 112: Introduction to Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/logo.png" />
  <meta property="og:description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="github-repo" content="JamesNormington/112_spring_2023/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 8 Categorical Variables as Factors | COMP/STAT 112: Introduction to Data Science" />
  
  <meta name="twitter:description" content="This is the class website for Introduction to Data Science (COMP/STAT 112) at Macalester College for Spring 2023." />
  <meta name="twitter:image" content="/images/logo.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="joining-two-data-frames.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="custom_styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href = "./">COMP/STAT 112: Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html"><i class="fa fa-check"></i>Course Schedule</a></li>
<li class="chapter" data-level="" data-path=""><a href="#part-foundation"><i class="fa fa-check"></i>(PART) Foundation</a>
<ul>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#learning-goals"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#getting-started-in-rstudio"><i class="fa fa-check"></i>Getting Started in RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#download-r-rstudio"><i class="fa fa-check"></i>Download R &amp; RStudio</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#a-quick-tour-of-rstudio"><i class="fa fa-check"></i>A quick tour of RStudio</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#data"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#tidy-data"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#data-basics-in-rstudio"><i class="fa fa-check"></i>Data Basics in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#r-markdown-and-reproducible-research"><i class="fa fa-check"></i>R Markdown and Reproducible Research</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#assignment-1-due-wednesday-january-25-1159pm"><i class="fa fa-check"></i>Assignment 1 (due Wednesday, January 25 @ 11:59pm)</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#appendix-r-functions"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#r-as-a-calculator"><i class="fa fa-check"></i>R as a calculator</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#r-basics"><i class="fa fa-check"></i>R Basics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#part-visualization"><i class="fa fa-check"></i>(PART) Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#learning-goals-1"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#benefits-of-visualizations"><i class="fa fa-check"></i>Benefits of Visualizations</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#glyphs"><i class="fa fa-check"></i>Glyphs</a>
<ul>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#data-glyph"><i class="fa fa-check"></i>Data Glyph</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#components-of-graphics"><i class="fa fa-check"></i>Components of Graphics</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#eye-training-for-the-layered-grammar-of-graphics"><i class="fa fa-check"></i>Eye Training for the Layered Grammar of Graphics</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#glyph-ready-data"><i class="fa fa-check"></i>Glyph-Ready Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#data-visualization-workflow-ggplot"><i class="fa fa-check"></i>Data Visualization Workflow + <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#layers-building-up-complex-plots"><i class="fa fa-check"></i>Layers – Building up Complex Plots</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#getting-started"><i class="fa fa-check"></i>Getting Started</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#an-example"><i class="fa fa-check"></i>An Example</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#categorical-univariate-visualization"><i class="fa fa-check"></i>Categorical univariate visualization</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#quantitative-univariate-visualization"><i class="fa fa-check"></i>Quantitative univariate visualization</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#assignment-2-due-wednesday-feb-1-at-1159pm"><i class="fa fa-check"></i>Assignment 2 (due Wednesday, Feb 1 at 11:59pm)</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#appendix-r-functions-1"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#basic-r-functions"><i class="fa fa-check"></i>Basic R functions</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#ggplot2-foundation-functions"><i class="fa fa-check"></i>ggplot2 foundation functions</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#more-ggplot2-functions"><i class="fa fa-check"></i>more ggplot2 functions</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html#ggplot2-aesthetic-mapping-options"><i class="fa fa-check"></i>ggplot2 aesthetic mapping options</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="effective-visualizations.html"><a href="effective-visualizations.html"><i class="fa fa-check"></i><b>1</b> Effective Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#learning-goals-2"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#effective-visualizations-1"><i class="fa fa-check"></i>Effective Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#benefits-of-visualizations-1"><i class="fa fa-check"></i>Benefits of Visualizations</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#analysis-of-graphics"><i class="fa fa-check"></i>Analysis of Graphics</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#properties-of-effective-visualizations"><i class="fa fa-check"></i>Properties of Effective Visualizations</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#basic-rules-for-constructing-graphics"><i class="fa fa-check"></i>Basic Rules for Constructing Graphics</a></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#still-to-come"><i class="fa fa-check"></i>Still to Come</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="effective-visualizations.html"><a href="effective-visualizations.html#practice"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html"><i class="fa fa-check"></i><b>2</b> Bivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#learning-goals-3"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#alterative-text-for-visualizations"><i class="fa fa-check"></i>Alterative Text for Visualizations</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#bivariate-visualizations-1"><i class="fa fa-check"></i>Bivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#getting-to-know-the-dataset"><i class="fa fa-check"></i>Getting to know the dataset</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#background-on-visualizing-relationships"><i class="fa fa-check"></i>Background on visualizing relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-quantitiative-vs-quantitative-relationships"><i class="fa fa-check"></i>Visualizing quantitiative vs quantitative relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-quantitative-vs.-categorical-relationships"><i class="fa fa-check"></i>Visualizing quantitative vs. categorical relationships</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#visualizing-categorical-vs-categorical-relationships"><i class="fa fa-check"></i>Visualizing categorical vs categorical relationships</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#assignment-3-due-wednesday-feb.-8th-1159pm"><i class="fa fa-check"></i>Assignment 3: due Wednesday, Feb. 8th @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#appendix-r-functions-2"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#data-wrangling-r-functions"><i class="fa fa-check"></i>Data Wrangling R functions</a></li>
<li class="chapter" data-level="" data-path="bivariate-visualizations.html"><a href="bivariate-visualizations.html#ggplot2-foundation-functions-1"><i class="fa fa-check"></i>ggplot2 foundation functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html"><i class="fa fa-check"></i><b>3</b> Multivariate Visualizations</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#learning-goals-4"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#adding-more-aesthetic-attributes"><i class="fa fa-check"></i>Adding More Aesthetic Attributes</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#exploring-sat-scores"><i class="fa fa-check"></i>Exploring SAT Scores</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#other-multivariate-visualization-techniques"><i class="fa fa-check"></i>Other Multivariate Visualization Techniques</a>
<ul>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#heat-maps"><i class="fa fa-check"></i>Heat maps</a></li>
<li class="chapter" data-level="" data-path="multivariate-visualizations.html"><a href="multivariate-visualizations.html#star-plots"><i class="fa fa-check"></i>Star plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="spatial-visualization.html"><a href="spatial-visualization.html"><i class="fa fa-check"></i><b>4</b> Spatial Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#learning-goals-5"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#motivation"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#plotting-points-on-a-map"><i class="fa fa-check"></i>Plotting Points on a Map</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#starbucks-example"><i class="fa fa-check"></i>Starbucks Example</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#examples-more-with-starbucks"><i class="fa fa-check"></i>Examples: More with Starbucks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#contour-maps"><i class="fa fa-check"></i>Contour Maps</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleths"><i class="fa fa-check"></i>Choropleths</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choose-a-map"><i class="fa fa-check"></i>Choose a Map</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#connect-map-idregion-variable-to-data-being-plotted"><i class="fa fa-check"></i>Connect Map ID/Region Variable to Data Being Plotted</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#use-ggplot2-features"><i class="fa fa-check"></i>Use <code>ggplot2</code> Features</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#expand_limits"><i class="fa fa-check"></i><code>expand_limits()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#theme_map"><i class="fa fa-check"></i><code>theme_map()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#add-ggplot2-layers"><i class="fa fa-check"></i>Add <code>ggplot2</code> Layers</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources-1"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#alternative-methods"><i class="fa fa-check"></i>Alternative Methods</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#practice-even-more-with-starbucks"><i class="fa fa-check"></i>Practice: Even More with Starbucks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#dynamnic-maps-with-leaflet"><i class="fa fa-check"></i>Dynamnic Maps with <code>leaflet</code></a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#steps-to-create-a-map"><i class="fa fa-check"></i>Steps to Create a Map</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#creating-a-map-with-markerspoints"><i class="fa fa-check"></i>Creating a Map with Markers/Points</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleth-layers-with-addpolygons"><i class="fa fa-check"></i>Choropleth Layers with <code>addPolygons()</code></a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#resources-2"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#assignment-4-due-wednesday-february-15th-1159pm"><i class="fa fa-check"></i>Assignment 4: due Wednesday, February 15th @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#appendix-r-functions-3"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#mapping-points-functions"><i class="fa fa-check"></i>Mapping Points Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#contourdensity-mapping-functions"><i class="fa fa-check"></i>Contour/Density Mapping Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#choropleths-mapping-functions"><i class="fa fa-check"></i>Choropleths Mapping Functions</a></li>
<li class="chapter" data-level="" data-path="spatial-visualization.html"><a href="spatial-visualization.html#dynamic-mapping-functions"><i class="fa fa-check"></i>Dynamic Mapping Functions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Data Wrangling</b></span></li>
<li class="chapter" data-level="5" data-path="six-main-verbs.html"><a href="six-main-verbs.html"><i class="fa fa-check"></i><b>5</b> Six Main Verbs</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#learning-goals-6"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#data-wrangling-introduction"><i class="fa fa-check"></i>Data Wrangling Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#example-us-births"><i class="fa fa-check"></i>Example: US Births</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#tidy-data-1"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#data-verbs"><i class="fa fa-check"></i>Data Verbs</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#piping"><i class="fa fa-check"></i>Piping</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#manipulating-dates"><i class="fa fa-check"></i>Manipulating Dates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#practice-part-1-baby-names"><i class="fa fa-check"></i>Practice Part 1: Baby Names</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#assignment-5-part-1-due-friday-feb-24-1159pm"><i class="fa fa-check"></i>Assignment 5 (Part 1): due Friday, Feb 24 @ 11:59pm</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#seasonality"><i class="fa fa-check"></i>Seasonality</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#day-of-the-week"><i class="fa fa-check"></i>Day of the Week</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#holidays"><i class="fa fa-check"></i>Holidays</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#geography"><i class="fa fa-check"></i>Geography</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#superstition"><i class="fa fa-check"></i>Superstition</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#appendix-r-functions-4"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#six-main-verbs-1"><i class="fa fa-check"></i>Six Main Verbs</a></li>
<li class="chapter" data-level="" data-path="six-main-verbs.html"><a href="six-main-verbs.html#logicalboolean-operators"><i class="fa fa-check"></i>Logical/Boolean Operators</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="reshaping-data.html"><a href="reshaping-data.html"><i class="fa fa-check"></i><b>6</b> Reshaping Data</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#learning-goals-7"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#wide-and-long-data-formats"><i class="fa fa-check"></i>Wide and Long Data Formats</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#wider"><i class="fa fa-check"></i>Wider</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#longer"><i class="fa fa-check"></i>Longer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#example-the-daily-show-guests"><i class="fa fa-check"></i>Example: The Daily Show Guests</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#assignment-5-part-2-due-friday-feb-24-1159pm"><i class="fa fa-check"></i>Assignment 5 (Part 2): due Friday, Feb 24 @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#appendix-r-functions-5"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="reshaping-data.html"><a href="reshaping-data.html#reshaping-functions"><i class="fa fa-check"></i>Reshaping Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html"><i class="fa fa-check"></i><b>7</b> Joining Two Data Frames</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#learning-goals-8"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#joins"><i class="fa fa-check"></i>Joins</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#establishing-a-match-between-cases"><i class="fa fa-check"></i>Establishing a match between cases</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#matching"><i class="fa fa-check"></i>Matching</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#mutating-joins"><i class="fa fa-check"></i>Mutating joins</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#filtering-joins"><i class="fa fa-check"></i>Filtering joins</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#assignment-6-part-1-due-friday-march-3rd-1159pm"><i class="fa fa-check"></i>Assignment 6 Part 1: due Friday, March 3rd @ 11:59pm</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#bicycle-use-patterns"><i class="fa fa-check"></i>Bicycle-Use Patterns</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#appendix-r-functions-6"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#mutating-joins-1"><i class="fa fa-check"></i>Mutating Joins</a></li>
<li class="chapter" data-level="" data-path="joining-two-data-frames.html"><a href="joining-two-data-frames.html#filtering-joins-1"><i class="fa fa-check"></i>Filtering Joins</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html"><i class="fa fa-check"></i><b>8</b> Categorical Variables as Factors</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#learning-goals-9"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#example-grade-distribution"><i class="fa fa-check"></i>Example: Grade Distribution</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#converting-to-factor"><i class="fa fa-check"></i>Converting to factor</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-order-of-levels"><i class="fa fa-check"></i>Changing the order of levels</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-value-of-levels"><i class="fa fa-check"></i>Changing the value of levels</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#assignment-6-part-2-due-friday-march-3rd-1159pm"><i class="fa fa-check"></i>Assignment 6 Part 2: due Friday, March 3rd @ 11:59pm</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#appendix-r-functions-7"><i class="fa fa-check"></i>Appendix: R Functions</a>
<ul>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-order-of-levels-1"><i class="fa fa-check"></i>Changing the order of levels</a></li>
<li class="chapter" data-level="" data-path="categorical-variables-as-factors.html"><a href="categorical-variables-as-factors.html#changing-the-value-of-levels-1"><i class="fa fa-check"></i>Changing the value of levels</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">COMP/STAT 112: Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="categorical-variables-as-factors" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Topic 8</span> Categorical Variables as Factors<a href="categorical-variables-as-factors.html#categorical-variables-as-factors" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-goals-9" class="section level2 unnumbered hasAnchor">
<h2>Learning Goals<a href="categorical-variables-as-factors.html#learning-goals-9" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Understand the difference between a variable stored as a <code>character</code> vs. a <code>factor</code></li>
<li>Be able to convert a <code>character</code> variable to a <code>factor</code></li>
<li>Develop comfort in manipulating the order and values of a factor with the <code>forcats</code> package to improve summaries and visualizations.</li>
</ul>
<p>Create a new Rmd file (save it as 10-Factors.Rmd). Put this file in a folder <code>Assignment_06</code> in your <code>COMP_STAT_112</code> folder.</p>
<ul>
<li>You are used to using template Rmd files but you are ready to create your own!
<ul>
<li>Look at previous Rmd files and notice patterns. You can copy the top YAML section over and adjust.</li>
<li>Note that if you use {exercise} instead of {r} that it will automatically number your exercises!</li>
<li>Make sure to add <code>fig.alt</code> for your visualizations!</li>
</ul></li>
<li>From now on, you’ll be expected to create your own Rmd files and make them look clean and organized so that preceptors and instructors can easily read the knitted file and give feedback.</li>
</ul>
</div>
<div id="example-grade-distribution" class="section level2 unnumbered hasAnchor">
<h2>Example: Grade Distribution<a href="categorical-variables-as-factors.html#example-grade-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="categorical-variables-as-factors.html#cb1-1" aria-hidden="true" tabindex="-1"></a>Grades <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://jamesnormington.github.io/112_spring_2023/data/grades.csv&quot;</span>)</span>
<span id="cb1-2"><a href="categorical-variables-as-factors.html#cb1-2" aria-hidden="true" tabindex="-1"></a>Grades <span class="ot">&lt;-</span> Grades <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="categorical-variables-as-factors.html#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sid, sessionID, grade) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="categorical-variables-as-factors.html#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(sid, sessionID, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>We will continue with the grades data from the previous activity. Here is a sample to remember what it looks like:</p>
<table>
<caption><span id="tab:unnamed-chunk-4">Table 8.1: </span>Student grades.</caption>
<thead>
<tr class="header">
<th align="center">sid</th>
<th align="center">sessionID</th>
<th align="center">grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">S31842</td>
<td align="center">session2207</td>
<td align="center">B+</td>
</tr>
<tr class="even">
<td align="center">S32436</td>
<td align="center">session3172</td>
<td align="center">S</td>
</tr>
<tr class="odd">
<td align="center">S31671</td>
<td align="center">session3435</td>
<td align="center">A-</td>
</tr>
<tr class="even">
<td align="center">S31929</td>
<td align="center">session3512</td>
<td align="center">NC</td>
</tr>
</tbody>
</table>
<p>Here is a bar chart of the grade distribution:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="categorical-variables-as-factors.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Grades, <span class="fu">aes</span>(<span class="at">x =</span> grade)) <span class="sc">+</span></span>
<span id="cb2-2"><a href="categorical-variables-as-factors.html#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-5-1.png" alt="Testing" width="672" /></p>
<p>We can also wrangle a table that just has each grade and the number of times it appears:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="categorical-variables-as-factors.html#cb3-1" aria-hidden="true" tabindex="-1"></a>GradeDistribution <span class="ot">&lt;-</span> Grades <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="categorical-variables-as-factors.html#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(grade) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="categorical-variables-as-factors.html#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>())</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="categorical-variables-as-factors.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively, we can use the count() function the creates a variable called n</span></span>
<span id="cb4-2"><a href="categorical-variables-as-factors.html#cb4-2" aria-hidden="true" tabindex="-1"></a>Grades <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="categorical-variables-as-factors.html#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(grade) </span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-8">Table 8.2: </span>Grade distribution.</caption>
<thead>
<tr class="header">
<th align="left">grade</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="right">1506</td>
</tr>
<tr class="even">
<td align="left">A-</td>
<td align="right">1381</td>
</tr>
<tr class="odd">
<td align="left">AU</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="right">804</td>
</tr>
<tr class="odd">
<td align="left">B-</td>
<td align="right">330</td>
</tr>
<tr class="even">
<td align="left">B+</td>
<td align="right">1003</td>
</tr>
<tr class="odd">
<td align="left">C</td>
<td align="right">137</td>
</tr>
<tr class="even">
<td align="left">C-</td>
<td align="right">52</td>
</tr>
<tr class="odd">
<td align="left">C+</td>
<td align="right">167</td>
</tr>
<tr class="even">
<td align="left">D</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">D-</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="left">D+</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">NC</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="left">S</td>
<td align="right">388</td>
</tr>
</tbody>
</table>
<p><strong><em>What could be improved about this graphic and table?</em></strong></p>
<p>The grades are listed alphabetically, which isn’t particularly meaningful. Why are they listed that way? Because the variable <code>grade</code> is a character string type:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="categorical-variables-as-factors.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(Grades<span class="sc">$</span>grade)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>When dealing with categorical variables that take a finite number of values (<code>levels</code>, formally), it is often useful to store the variable as a factor, and specify a meaningful order for the levels.</p>
<p>For example, when the entries are stored as character strings, we cannot use the <code>levels</code> command to see the full list of values:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="categorical-variables-as-factors.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(Grades<span class="sc">$</span>grade)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div id="converting-to-factor" class="section level3 unnumbered hasAnchor">
<h3>Converting to factor<a href="categorical-variables-as-factors.html#converting-to-factor" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s first convert the <code>grade</code> variable to a factor:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="categorical-variables-as-factors.html#cb9-1" aria-hidden="true" tabindex="-1"></a>Grades <span class="ot">&lt;-</span> Grades <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="categorical-variables-as-factors.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grade =</span> <span class="fu">factor</span>(grade))</span></code></pre></div>
<p>Now we can see the levels:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="categorical-variables-as-factors.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(Grades<span class="sc">$</span>grade)</span></code></pre></div>
<pre><code>##  [1] &quot;A&quot;  &quot;A-&quot; &quot;AU&quot; &quot;B&quot;  &quot;B-&quot; &quot;B+&quot; &quot;C&quot;  &quot;C-&quot; &quot;C+&quot; &quot;D&quot;  &quot;D-&quot; &quot;D+&quot; &quot;NC&quot; &quot;S&quot;</code></pre>
<p>Moreover, the <code>forcats</code> package (part of <code>tidyverse</code>) allows us to manipulate these factors. Its commands include the following.</p>
</div>
<div id="changing-the-order-of-levels" class="section level3 unnumbered hasAnchor">
<h3>Changing the order of levels<a href="categorical-variables-as-factors.html#changing-the-order-of-levels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>fct_relevel()</code>: manually reorder levels<br />
</li>
<li><code>fct_infreq()</code>: order levels from highest to lowest frequency<br />
</li>
<li><code>fct_reorder()</code>: reorder levels by values of another variable<br />
</li>
<li><code>fct_rev()</code>: reverse the current order</li>
</ul>
</div>
<div id="changing-the-value-of-levels" class="section level3 unnumbered hasAnchor">
<h3>Changing the value of levels<a href="categorical-variables-as-factors.html#changing-the-value-of-levels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>fct_recode()</code>: manually change levels<br />
</li>
<li><code>fct_lump()</code>: group together least common levels</li>
</ul>
<p>More details on these and other commands can be found on the <a href="https://github.com/rstudio/cheatsheets/raw/main/factors.pdf">forcats cheat sheet</a> or in Wickham &amp; Grolemund’s <a href="https://r4ds.had.co.nz/factors.html">chapter on factors</a>.</p>
<p><br />
</p>
<div class="example">
<p><span id="exm:unnamed-chunk-13" class="example"><strong>Example 8.1  (Reorder factors) </strong></span>Let’s reorder the grades so that they are in a more meaningful order for the bar chart above. Here are three options:</p>
</div>
<p><br />
</p>
<p><strong>Option 1</strong>: From high grade to low grade, with “S” and “AU” at the end:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="categorical-variables-as-factors.html#cb12-1" aria-hidden="true" tabindex="-1"></a>Grades <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="categorical-variables-as-factors.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grade =</span> <span class="fu">fct_relevel</span>(grade, <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;A-&quot;</span>, <span class="st">&quot;B+&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B-&quot;</span>, <span class="st">&quot;C+&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;C-&quot;</span>, <span class="st">&quot;D+&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;D-&quot;</span>, <span class="st">&quot;NC&quot;</span>, <span class="st">&quot;S&quot;</span>, <span class="st">&quot;AU&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="categorical-variables-as-factors.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> grade)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="categorical-variables-as-factors.html#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-14-1.png" alt="Bar plot of grad distribution. Vast majority of grades as A / A- / B+ /B  or Satisfactory (pass)." width="672" /></p>
<p><strong>Option 2</strong>: In terms of ascending frequency:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="categorical-variables-as-factors.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(GradeDistribution) <span class="sc">+</span></span>
<span id="cb13-2"><a href="categorical-variables-as-factors.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(grade, count), <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="categorical-variables-as-factors.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;grade&quot;</span>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-15-1.png" alt="Bar plot of grad distribution. Vast majority of grades as A / A- / B+ /B  or Satisfactory (pass)." width="672" /></p>
<p><strong>Option 3</strong>: In terms of descending frequency:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="categorical-variables-as-factors.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(GradeDistribution) <span class="sc">+</span></span>
<span id="cb14-2"><a href="categorical-variables-as-factors.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(grade, count, <span class="at">.desc =</span> <span class="cn">TRUE</span>), <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="categorical-variables-as-factors.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;grade&quot;</span>)</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-16-1.png" alt="Bar plot of grad distribution. Vast majority of grades as A / A- / B+ /B  or Satisfactory (pass)." width="672" /></p>
<div class="example">
<p><span id="exm:unnamed-chunk-17" class="example"><strong>Example 8.2  (Recode factors) </strong></span>Because it may not be clear what “AU” and “S” stand for, let’s rename them to “Audit” and “Satisfactory”.</p>
</div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="categorical-variables-as-factors.html#cb15-1" aria-hidden="true" tabindex="-1"></a>Grades <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="categorical-variables-as-factors.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grade =</span> <span class="fu">fct_relevel</span>(grade, <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;A-&quot;</span>, <span class="st">&quot;B+&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B-&quot;</span>, <span class="st">&quot;C+&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;C-&quot;</span>, <span class="st">&quot;D+&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;D-&quot;</span>, <span class="st">&quot;NC&quot;</span>, <span class="st">&quot;S&quot;</span>, <span class="st">&quot;AU&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="categorical-variables-as-factors.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grade =</span> <span class="fu">fct_recode</span>(grade, <span class="st">&quot;Satisfactory&quot;</span> <span class="ot">=</span> <span class="st">&quot;S&quot;</span>, <span class="st">&quot;Audit&quot;</span> <span class="ot">=</span> <span class="st">&quot;AU&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="categorical-variables-as-factors.html#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> grade)) <span class="sc">+</span></span>
<span id="cb15-5"><a href="categorical-variables-as-factors.html#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="stat112_manual_files/figure-html/unnamed-chunk-18-1.png" alt="Bar plot of grad distribution. Vast majority of grades as A / A- / B+ / B or Satisfactory (pass)." width="672" /></p>
</div>
</div>
<div id="assignment-6-part-2-due-friday-march-3rd-1159pm" class="section level2 unnumbered hasAnchor">
<h2>Assignment 6 Part 2: due Friday, March 3rd @ 11:59pm<a href="categorical-variables-as-factors.html#assignment-6-part-2-due-friday-march-3rd-1159pm" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="exercise">
<p><span id="exr:unnamed-chunk-19" class="exercise"><strong>Exercise 8.1  </strong></span>Now that you’ve developed your data visualization and wrangling skills,</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>develop a research question to address with the grades and courses data,</li>
<li>create a high quality visualization that addresses your research question,</li>
<li>write a brief description of the visualization and include the insight you gain about the research question.</li>
</ol>
<pre><code>Courses &lt;- read_csv(&quot;https://jamesnormington.github.io/112_spring_2023/data/courses.csv&quot;)</code></pre>
</div>
<div id="appendix-r-functions-7" class="section level2 unnumbered hasAnchor">
<h2>Appendix: R Functions<a href="categorical-variables-as-factors.html#appendix-r-functions-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="changing-the-order-of-levels-1" class="section level3 unnumbered hasAnchor">
<h3>Changing the order of levels<a href="categorical-variables-as-factors.html#changing-the-order-of-levels-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<colgroup>
<col width="34%" />
<col width="39%" />
<col width="26%" />
</colgroup>
<thead>
<tr class="header">
<th>Function/Operator</th>
<th align="center">Action</th>
<th align="right">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>fct_relevel()</code></td>
<td align="center">manually reorder levels of a factor</td>
<td align="right"><code>Grades %&gt;% mutate(grade = fct_relevel(grade, c("A", "A-", "B+", "B", "B-", "C+", "C", "C-", "D+", "D", "D-", "NC", "S", "AU")))</code></td>
</tr>
<tr class="even">
<td><code>fct_infreq()</code></td>
<td align="center">order levels from highest to lowest frequency</td>
<td align="right"><code>ggplot(Grades) + geom_bar(aes(x = fct_infreq(grade)))</code></td>
</tr>
<tr class="odd">
<td><code>fct_reorder()</code></td>
<td align="center">reorder levels by values of another variable</td>
<td align="right"><code>ggplot(GradeDistribution) + geom_col(aes(x = fct_reorder(grade, count), y = count))</code></td>
</tr>
<tr class="even">
<td><code>fct_rev()</code></td>
<td align="center">reverse the current order</td>
<td align="right"><code>ggplot(Grades) + geom_bar(aes(x = fct_rev(fct_infreq(grade))))</code></td>
</tr>
</tbody>
</table>
</div>
<div id="changing-the-value-of-levels-1" class="section level3 unnumbered hasAnchor">
<h3>Changing the value of levels<a href="categorical-variables-as-factors.html#changing-the-value-of-levels-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<colgroup>
<col width="34%" />
<col width="39%" />
<col width="26%" />
</colgroup>
<thead>
<tr class="header">
<th>Function/Operator</th>
<th align="center">Action</th>
<th align="right">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>fct_recode()</code></td>
<td align="center">manually change levels</td>
<td align="right"><code>Grades %&gt;%  mutate(grade = fct_recode(grade, "Satisfactory" = "S", "Audit" = "AU"))</code></td>
</tr>
<tr class="even">
<td><code>fct_lump()</code></td>
<td align="center">group together least common levels</td>
<td align="right"><code>Grades %&gt;% mutate(grade = fct_lump(grade, n = 5))</code></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="joining-two-data-frames.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
